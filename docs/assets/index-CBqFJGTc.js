(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();const Fr=!1;var tr=Array.isArray,An=Array.prototype.indexOf,rr=Array.from,St=Object.defineProperty,Xe=Object.getOwnPropertyDescriptor,Wr=Object.getOwnPropertyDescriptors,On=Object.prototype,Mn=Array.prototype,nr=Object.getPrototypeOf,Er=Object.isExtensible;const Qe=()=>{};function qn(e){return e()}function Gt(e){for(var t=0;t<e.length;t++)e[t]()}function jn(){var e,t,r=new Promise((n,a)=>{e=n,t=a});return{promise:r,resolve:e,reject:t}}const fe=2,sr=4,Ot=8,_t=16,Te=32,rt=64,Hr=128,ce=256,xt=512,V=1024,ue=2048,Pe=4096,me=8192,Be=16384,ar=32768,or=65536,Sr=1<<17,Rn=1<<18,lr=1<<19,ir=1<<20,Vt=1<<21,cr=1<<22,Ue=1<<23,De=Symbol("$state"),Nn=Symbol("legacy props"),ur=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Pn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Br(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function In(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ln(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Un(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Dn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Fn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wn(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Hn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Bn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Mt=1,qt=2,Gr=4,Vn=8,Yn=16,Kn=2,zn=4,Jn=8,Xn=1,Qn=2,J=Symbol(),Zn="http://www.w3.org/1999/xhtml";let es=!1;function Vr(e){return e===this.v}function Yr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Kr(e){return!Yr(e,this.v)}let nt=!1,ts=!1;function rs(){nt=!0}let W=null;function kt(e){W=e}function Ie(e,t=!1,r){W={p:W,c:null,e:null,s:e,x:null,l:nt&&!t?{s:null,u:null,$:[]}:null}}function Le(e){var t=W,r=t.e;if(r!==null){t.e=null;for(var n of r)ln(n)}return W=t.p,{}}function st(){return!nt||W!==null&&W.l===null}const ns=new WeakMap;function ss(e){var t=M;if(t===null)return R.f|=Ue,e;if((t.f&ar)===0){if((t.f&Hr)===0)throw!t.parent&&e instanceof Error&&zr(e),e;t.b.error(e)}else fr(e,t)}function fr(e,t){for(;t!==null;){if((t.f&Hr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&zr(e),e}function zr(e){const t=ns.get(e);t&&(St(e,"message",{value:t.message}),St(e,"stack",{value:t.stack}))}let Tt=[];function as(){var e=Tt;Tt=[],Gt(e)}function vr(e){Tt.length===0&&queueMicrotask(as),Tt.push(e)}function os(){for(var e=M.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Pn(),e}function dr(e){var t=fe|ue,r=R!==null&&(R.f&fe)!==0?R:null;return M===null||r!==null&&(r.f&ce)!==0?t|=ce:M.f|=lr,{ctx:W,deps:null,effects:null,equals:Vr,f:t,fn:e,reactions:null,rv:0,v:J,wv:0,parent:r??M,ac:null}}function ls(e,t){let r=M;r===null&&In();var n=r.b,a=void 0,s=ft(J),o=null,c=!R;return ms(()=>{try{var l=e()}catch(u){l=Promise.reject(u)}var i=()=>l;a=o?.then(i,i)??Promise.resolve(l),o=a;var f=Y,h=n.pending;c&&(n.update_pending_count(1),h||f.increment());const d=(u,v=void 0)=>{o=null,h||f.activate(),v?v!==ur&&(s.f|=Ue,vt(s,v)):((s.f&Ue)!==0&&(s.f^=Ue),vt(s,u)),c&&(n.update_pending_count(-1),h||f.decrement()),Qr()};if(a.then(d,u=>d(null,u||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function i(f){function h(){f===a?l(s):i(a)}f.then(h,h)}i(a)})}function hr(e){const t=dr(e);return t.equals=Kr,t}function Jr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)ke(t[r])}}function is(e){for(var t=e.parent;t!==null;){if((t.f&fe)===0)return t;t=t.parent}return null}function pr(e){var t,r=M;Ne(is(e));try{Jr(e),t=mn(e)}finally{Ne(r)}return t}function Xr(e){var t=pr(e);if(e.equals(t)||(e.v=t,e.wv=_n()),!Ge)if(tt!==null)tt.set(e,e.v);else{var r=(qe||(e.f&ce)!==0)&&e.deps!==null?Pe:V;K(e,r)}}function cs(e,t,r){const n=st()?dr:hr;if(t.length===0){r(e.map(n));return}var a=Y,s=M,o=us(),c=os();Promise.all(t.map(l=>ls(l))).then(l=>{a?.activate(),o();try{r([...e.map(n),...l])}catch(i){(s.f&Be)===0&&fr(i,s)}a?.deactivate(),Qr()}).catch(l=>{c.error(l)})}function us(){var e=M,t=R,r=W;return function(){Ne(e),Ee(t),kt(r)}}function Qr(){Ne(null),Ee(null),kt(null)}const mt=new Set;let Y=null,tt=null,xr=new Set,it=[],_r=null,Yt=!1;class jt{#i=new Map;#a=new Map;#o=new Set;#t=0;#c=null;#u=!1;#n=[];#l=[];#r=[];#e=[];#s=[];skipped_effects=new Set;#v(t){it=[];var r=null;if(mt.size>1){r=new Map,tt=new Map;for(const[s,o]of this.#i)r.set(s,{v:s.v,wv:s.wv}),s.v=o;for(const s of mt)if(s!==this)for(const[o,c]of s.#a)r.has(o)||(r.set(o,{v:o.v,wv:o.wv}),o.v=c)}for(const s of t)this.#d(s);if(this.#n.length===0&&this.#t===0){var n=this.#r,a=this.#e;this.#r=[],this.#e=[],this.#s=[],this.#f(),kr(n),kr(a),this.#c?.resolve()}else{for(const s of this.#r)K(s,V);for(const s of this.#e)K(s,V);for(const s of this.#s)K(s,V)}if(r){for(const[s,{v:o,wv:c}]of r)s.wv<=c&&(s.v=o);tt=null}for(const s of this.#n)et(s);for(const s of this.#l)et(s);this.#n=[],this.#l=[]}#d(t){t.f^=V;for(var r=t.first;r!==null;){var n=r.f,a=(n&(Te|rt))!==0,s=a&&(n&V)!==0,o=s||(n&me)!==0||this.skipped_effects.has(r);if(!o&&r.fn!==null){if(a)r.f^=V;else if((n&sr)!==0)this.#e.push(r);else if(gt(r))if((n&cr)!==0){var c=r.b?.pending?this.#l:this.#n;c.push(r)}else(r.f&_t)!==0&&this.#s.push(r),et(r);var l=r.first;if(l!==null){r=l;continue}}var i=r.parent;for(r=r.next;r===null&&i!==null;)r=i.next,i=i.parent}}capture(t,r){this.#a.has(t)||this.#a.set(t,r),this.#i.set(t,t.v)}activate(){Y=this}deactivate(){Y=null;for(const t of xr)if(xr.delete(t),t(),Y!==null)break}neuter(){this.#u=!0}flush(){it.length>0?this.flush_effects():this.#f(),Y===this&&(this.#t===0&&mt.delete(this),this.deactivate())}flush_effects(){var t=Ze;Yt=!0;try{var r=0;for($r(!0);it.length>0;){if(r++>1e3){var n,a;fs()}this.#v(it),Fe.clear()}}finally{Yt=!1,$r(t),_r=null}}#f(){if(!this.#u)for(const t of this.#o)t();this.#o.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const t of this.#r)K(t,ue),Re(t);for(const t of this.#e)K(t,ue),Re(t);for(const t of this.#s)K(t,ue),Re(t);this.#r=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(t){this.#o.add(t)}settled(){return(this.#c??=jn()).promise}static ensure(t=!0){if(Y===null){const r=Y=new jt;mt.add(Y),t&&queueMicrotask(()=>{Y===r&&r.flush()})}return Y}}function fs(){try{Fn()}catch(e){fr(e,_r)}}function kr(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(Be|me))===0&&gt(n)){var a=Ct;if(et(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?dn(n):n.fn=null),Ct>a&&(n.f&ir)!==0)break}}for(;r<t;r+=1)Re(e[r])}}function Re(e){for(var t=_r=e;t.parent!==null;){t=t.parent;var r=t.f;if(Yt&&t===M&&(r&_t)!==0)return;if((r&(rt|Te))!==0){if((r&V)===0)return;t.f^=V}}it.push(t)}const Fe=new Map;function ft(e,t){var r={f:0,v:e,reactions:null,equals:Vr,rv:0,wv:0};return r}function Ae(e,t){const r=ft(e);return ws(r),r}function se(e,t=!1,r=!0){const n=ft(e);return t||(n.equals=Kr),nt&&r&&W!==null&&W.l!==null&&(W.l.s??=[]).push(n),n}function $t(e,t){return L(e,ne(()=>p(e))),t}function L(e,t,r=!1){R!==null&&(!ye||(R.f&Sr)!==0)&&st()&&(R.f&(fe|_t|cr|Sr))!==0&&!xe?.includes(e)&&Gn();let n=r?ze(t):t;return vt(e,n)}function vt(e,t){if(!e.equals(t)){var r=e.v;Ge?Fe.set(e,t):Fe.set(e,r),e.v=t,jt.ensure().capture(e,r),(e.f&fe)!==0&&((e.f&ue)!==0&&pr(e),K(e,(e.f&ce)===0?V:Pe)),e.wv=_n(),Zr(e,ue),st()&&M!==null&&(M.f&V)!==0&&(M.f&(Te|rt))===0&&(he===null?ys([e]):he.push(e))}return t}function Ut(e){L(e,e.v+1)}function Zr(e,t){var r=e.reactions;if(r!==null)for(var n=st(),a=r.length,s=0;s<a;s++){var o=r[s],c=o.f;(c&ue)===0&&(!n&&o===M||(K(o,t),(c&(V|ce))!==0&&((c&fe)!==0?Zr(o,Pe):Re(o))))}}function ze(e){if(typeof e!="object"||e===null||De in e)return e;const t=nr(e);if(t!==On&&t!==Mn)return e;var r=new Map,n=tr(e),a=Ae(0),s=We,o=c=>{if(We===s)return c();var l=R,i=We;Ee(null),Ar(s);var f=c();return Ee(l),Ar(i),f};return n&&r.set("length",Ae(e.length)),new Proxy(e,{defineProperty(c,l,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&Hn();var f=r.get(l);return f===void 0?f=o(()=>{var h=Ae(i.value);return r.set(l,h),h}):L(f,i.value,!0),!0},deleteProperty(c,l){var i=r.get(l);if(i===void 0){if(l in c){const f=o(()=>Ae(J));r.set(l,f),Ut(a)}}else L(i,J),Ut(a);return!0},get(c,l,i){if(l===De)return e;var f=r.get(l),h=l in c;if(f===void 0&&(!h||Xe(c,l)?.writable)&&(f=o(()=>{var u=ze(h?c[l]:J),v=Ae(u);return v}),r.set(l,f)),f!==void 0){var d=p(f);return d===J?void 0:d}return Reflect.get(c,l,i)},getOwnPropertyDescriptor(c,l){var i=Reflect.getOwnPropertyDescriptor(c,l);if(i&&"value"in i){var f=r.get(l);f&&(i.value=p(f))}else if(i===void 0){var h=r.get(l),d=h?.v;if(h!==void 0&&d!==J)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return i},has(c,l){if(l===De)return!0;var i=r.get(l),f=i!==void 0&&i.v!==J||Reflect.has(c,l);if(i!==void 0||M!==null&&(!f||Xe(c,l)?.writable)){i===void 0&&(i=o(()=>{var d=f?ze(c[l]):J,u=Ae(d);return u}),r.set(l,i));var h=p(i);if(h===J)return!1}return f},set(c,l,i,f){var h=r.get(l),d=l in c;if(n&&l==="length")for(var u=i;u<h.v;u+=1){var v=r.get(u+"");v!==void 0?L(v,J):u in c&&(v=o(()=>Ae(J)),r.set(u+"",v))}if(h===void 0)(!d||Xe(c,l)?.writable)&&(h=o(()=>Ae(void 0)),L(h,ze(i)),r.set(l,h));else{d=h.v!==J;var g=o(()=>ze(i));L(h,g)}var w=Reflect.getOwnPropertyDescriptor(c,l);if(w?.set&&w.set.call(f,i),!d){if(n&&typeof l=="string"){var x=r.get("length"),m=Number(l);Number.isInteger(m)&&m>=x.v&&L(x,m+1)}Ut(a)}return!0},ownKeys(c){p(a);var l=Reflect.ownKeys(c).filter(h=>{var d=r.get(h);return d===void 0||d.v!==J});for(var[i,f]of r)f.v!==J&&!(i in c)&&l.push(i);return l},setPrototypeOf(){Bn()}})}var Tr,en,tn,rn,nn;function vs(){if(Tr===void 0){Tr=window,en=document,tn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;rn=Xe(t,"firstChild").get,nn=Xe(t,"nextSibling").get,Er(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Er(r)&&(r.__t=void 0)}}function at(e=""){return document.createTextNode(e)}function Me(e){return rn.call(e)}function Rt(e){return nn.call(e)}function E(e,t){return Me(e)}function le(e,t){{var r=Me(e);return r instanceof Comment&&r.data===""?Rt(r):r}}function S(e,t=1,r=!1){let n=e;for(;t--;)n=Rt(n);return n}function ds(e){e.textContent=""}function sn(){return!1}function an(e){M===null&&R===null&&Dn(),R!==null&&(R.f&ce)!==0&&M===null&&Un(),Ge&&Ln()}function hs(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Se(e,t,r,n=!0){var a=M;a!==null&&(a.f&me)!==0&&(e|=me);var s={ctx:W,deps:null,nodes_start:null,nodes_end:null,f:e|ue,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{et(s),s.f|=ar}catch(l){throw ke(s),l}else t!==null&&Re(s);var o=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&lr)===0;if(!o&&n&&(a!==null&&hs(s,a),R!==null&&(R.f&fe)!==0)){var c=R;(c.effects??=[]).push(s)}return s}function on(e){const t=Se(Ot,null,!1);return K(t,V),t.teardown=e,t}function Kt(e){an();var t=M.f,r=!R&&(t&Te)!==0&&(t&ar)===0;if(r){var n=W;(n.e??=[]).push(e)}else return ln(e)}function ln(e){return Se(sr|ir,e,!1)}function ps(e){return an(),Se(Ot|ir,e,!0)}function _s(e){jt.ensure();const t=Se(rt,e,!0);return(r={})=>new Promise(n=>{r.outro?mr(t,()=>{ke(t),n(void 0)}):(ke(t),n(void 0))})}function gs(e){return Se(sr,e,!1)}function Je(e,t){var r=W,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=Nt(()=>{e(),!n.ran&&(n.ran=!0,ne(t))})}function gr(){var e=W;Nt(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&V)!==0&&K(r,Pe),gt(r)&&et(r),t.ran=!1}})}function ms(e){return Se(cr|lr,e,!0)}function Nt(e,t=0){return Se(Ot|t,e,!0)}function Z(e,t=[],r=[]){cs(t,r,n=>{Se(Ot,()=>e(...n.map(p)),!0)})}function cn(e,t=0){var r=Se(_t|t,e,!0);return r}function dt(e,t=!0){return Se(Te,e,!0,t)}function un(e){var t=e.teardown;if(t!==null){const r=Ge,n=R;Cr(!0),Ee(null);try{t.call(null)}finally{Cr(r),Ee(n)}}}function fn(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){r.ac?.abort(ur);var n=r.next;(r.f&rt)!==0?r.parent=null:ke(r,t),r=n}}function bs(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Te)===0&&ke(t),t=r}}function ke(e,t=!0){var r=!1;(t||(e.f&Rn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(vn(e.nodes_start,e.nodes_end),r=!0),fn(e,t&&!r),At(e,0),K(e,Be);var n=e.transitions;if(n!==null)for(const s of n)s.stop();un(e);var a=e.parent;a!==null&&a.first!==null&&dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function vn(e,t){for(;e!==null;){var r=e===t?null:Rt(e);e.remove(),e=r}}function dn(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function mr(e,t){var r=[];br(e,r,!0),hn(r,()=>{ke(e),t&&t()})}function hn(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function br(e,t,r){if((e.f&me)===0){if(e.f^=me,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var a=n.next,s=(n.f&or)!==0||(n.f&Te)!==0;br(n,t,s?r:!1),n=a}}}function wr(e){pn(e,!0)}function pn(e,t){if((e.f&me)!==0){e.f^=me,(e.f&V)===0&&(K(e,ue),Re(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&or)!==0||(r.f&Te)!==0;pn(r,a?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ze=!1;function $r(e){Ze=e}let Ge=!1;function Cr(e){Ge=e}let R=null,ye=!1;function Ee(e){R=e}let M=null;function Ne(e){M=e}let xe=null;function ws(e){R!==null&&(xe===null?xe=[e]:xe.push(e))}let ee=null,oe=0,he=null;function ys(e){he=e}let Ct=1,ht=0,We=ht;function Ar(e){We=e}let qe=!1;function _n(){return++Ct}function gt(e){var t=e.f;if((t&ue)!==0)return!0;if((t&Pe)!==0){var r=e.deps,n=(t&ce)!==0;if(r!==null){var a,s,o=(t&xt)!==0,c=n&&M!==null&&!qe,l=r.length;if((o||c)&&(M===null||(M.f&Be)===0)){var i=e,f=i.parent;for(a=0;a<l;a++)s=r[a],(o||!s?.reactions?.includes(i))&&(s.reactions??=[]).push(i);o&&(i.f^=xt),c&&f!==null&&(f.f&ce)===0&&(i.f^=ce)}for(a=0;a<l;a++)if(s=r[a],gt(s)&&Xr(s),s.wv>e.wv)return!0}(!n||M!==null&&!qe)&&K(e,V)}return!1}function gn(e,t,r=!0){var n=e.reactions;if(n!==null&&!xe?.includes(e))for(var a=0;a<n.length;a++){var s=n[a];(s.f&fe)!==0?gn(s,t,!1):t===s&&(r?K(s,ue):(s.f&V)!==0&&K(s,Pe),Re(s))}}function mn(e){var t=ee,r=oe,n=he,a=R,s=qe,o=xe,c=W,l=ye,i=We,f=e.f;ee=null,oe=0,he=null,qe=(f&ce)!==0&&(ye||!Ze||R===null),R=(f&(Te|rt))===0?e:null,xe=null,kt(e.ctx),ye=!1,We=++ht,e.ac!==null&&(e.ac.abort(ur),e.ac=null);try{e.f|=Vt;var h=(0,e.fn)(),d=e.deps;if(ee!==null){var u;if(At(e,oe),d!==null&&oe>0)for(d.length=oe+ee.length,u=0;u<ee.length;u++)d[oe+u]=ee[u];else e.deps=d=ee;if(!qe||(f&fe)!==0&&e.reactions!==null)for(u=oe;u<d.length;u++)(d[u].reactions??=[]).push(e)}else d!==null&&oe<d.length&&(At(e,oe),d.length=oe);if(st()&&he!==null&&!ye&&d!==null&&(e.f&(fe|Pe|ue))===0)for(u=0;u<he.length;u++)gn(he[u],e);return a!==null&&a!==e&&(ht++,he!==null&&(n===null?n=he:n.push(...he))),(e.f&Ue)!==0&&(e.f^=Ue),h}catch(v){return ss(v)}finally{e.f^=Vt,ee=t,oe=r,he=n,R=a,qe=s,xe=o,kt(c),ye=l,We=i}}function Es(e,t){let r=t.reactions;if(r!==null){var n=An.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(t.f&fe)!==0&&(ee===null||!ee.includes(t))&&(K(t,Pe),(t.f&(ce|xt))===0&&(t.f^=xt),Jr(t),At(t,0))}function At(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Es(e,r[n])}function et(e){var t=e.f;if((t&Be)===0){K(e,V);var r=M,n=Ze;M=e,Ze=!0;try{(t&_t)!==0?bs(e):fn(e),un(e);var a=mn(e);e.teardown=typeof a=="function"?a:null,e.wv=Ct;var s;Fr&&ts&&(e.f&ue)!==0&&e.deps}finally{Ze=n,M=r}}}function p(e){var t=e.f,r=(t&fe)!==0;if(R!==null&&!ye){var n=M!==null&&(M.f&Be)!==0;if(!n&&!xe?.includes(e)){var a=R.deps;if((R.f&Vt)!==0)e.rv<ht&&(e.rv=ht,ee===null&&a!==null&&a[oe]===e?oe++:ee===null?ee=[e]:(!qe||!ee.includes(e))&&ee.push(e));else{(R.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[R]:s.includes(R)||s.push(R)}}}else if(r&&e.deps===null&&e.effects===null){var o=e,c=o.parent;c!==null&&(c.f&ce)===0&&(o.f^=ce)}if(Ge){if(Fe.has(e))return Fe.get(e);if(r){o=e;var l=o.v;return((o.f&V)!==0||bn(o))&&(l=pr(o)),Fe.set(o,l),l}}else if(r){if(o=e,tt?.has(o))return tt.get(o);gt(o)&&Xr(o)}if((e.f&Ue)!==0)throw e.v;return e.v}function bn(e){if(e.v===J)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Fe.has(t)||(t.f&fe)!==0&&bn(t))return!0;return!1}function ne(e){var t=ye;try{return ye=!0,e()}finally{ye=t}}const Ss=-7169;function K(e,t){e.f=e.f&Ss|t}function Oe(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(De in e)zt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&De in r&&zt(r)}}}function zt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{zt(e[n],t)}catch{}const r=nr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Wr(r);for(let a in n){const s=n[a].get;if(s)try{s.call(e)}catch{}}}}}const xs=["touchstart","touchmove"];function ks(e){return xs.includes(e)}let Or=!1;function Ts(){Or||(Or=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function wn(e){var t=R,r=M;Ee(null),Ne(null);try{return e()}finally{Ee(t),Ne(r)}}function $s(e,t,r,n=r){e.addEventListener(t,()=>wn(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),Ts()}const Cs=new Set,Mr=new Set;function As(e,t,r,n={}){function a(s){if(n.capture||ct.call(t,s),!s.cancelBubble)return wn(()=>r?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?vr(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function ie(e,t,r,n,a){var s={capture:n,passive:a},o=As(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&on(()=>{t.removeEventListener(e,o,s)})}function ct(e){var t=this,r=t.ownerDocument,n=e.type,a=e.composedPath?.()||[],s=a[0]||e.target,o=0,c=e.__root;if(c){var l=a.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var i=a.indexOf(t);if(i===-1)return;l<=i&&(o=l)}if(s=a[o]||e.target,s!==t){St(e,"currentTarget",{configurable:!0,get(){return s||r}});var f=R,h=M;Ee(null),Ne(null);try{for(var d,u=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+n];if(g!=null&&(!s.disabled||e.target===s))if(tr(g)){var[w,...x]=g;w.apply(s,[e,...x])}else g.call(s,e)}catch(m){d?u.push(m):d=m}if(e.cancelBubble||v===t||v===null)break;s=v}if(d){for(let m of u)queueMicrotask(()=>{throw m});throw d}}finally{e.__root=t,delete e.currentTarget,Ee(f),Ne(h)}}}function yn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function pt(e,t){var r=M;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function U(e,t){var r=(t&Xn)!==0,n=(t&Qn)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=yn(s?e:"<!>"+e),r||(a=Me(a)));var o=n||tn?document.importNode(a,!0):a.cloneNode(!0);if(r){var c=Me(o),l=o.lastChild;pt(c,l)}else pt(o,o);return o}}function G(e=""){{var t=at(e+"");return pt(t,t),t}}function pe(){var e=document.createDocumentFragment(),t=document.createComment(""),r=at();return e.append(t,r),pt(t,r),e}function y(e,t){e!==null&&e.before(t)}function X(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Os(e,t){return Ms(e,t)}const Ye=new Map;function Ms(e,{target:t,anchor:r,props:n={},events:a,context:s,intro:o=!0}){vs();var c=new Set,l=h=>{for(var d=0;d<h.length;d++){var u=h[d];if(!c.has(u)){c.add(u);var v=ks(u);t.addEventListener(u,ct,{passive:v});var g=Ye.get(u);g===void 0?(document.addEventListener(u,ct,{passive:v}),Ye.set(u,1)):Ye.set(u,g+1)}}};l(rr(Cs)),Mr.add(l);var i=void 0,f=_s(()=>{var h=r??t.appendChild(at());return dt(()=>{if(s){Ie({});var d=W;d.c=s}a&&(n.$$events=a),i=e(h,n)||{},s&&Le()}),()=>{for(var d of c){t.removeEventListener(d,ct);var u=Ye.get(d);--u===0?(document.removeEventListener(d,ct),Ye.delete(d)):Ye.set(d,u)}Mr.delete(l),h!==r&&h.parentNode?.removeChild(h)}});return qs.set(i,f),i}let qs=new WeakMap;function N(e,t,r=!1){var n=e,a=null,s=null,o=J,c=r?or:0,l=!1;const i=(u,v=!0)=>{l=!0,d(v,u)};var f=null;function h(){f!==null&&(f.lastChild.remove(),n.before(f),f=null);var u=o?a:s,v=o?s:a;u&&wr(u),v&&mr(v,()=>{o?s=null:a=null})}const d=(u,v)=>{if(o!==(o=u)){var g=sn(),w=n;if(g&&(f=document.createDocumentFragment(),f.append(w=at())),o?a??=v&&dt(()=>v(w)):s??=v&&dt(()=>v(w)),g){var x=Y,m=o?a:s,k=o?s:a;m&&x.skipped_effects.delete(m),k&&x.skipped_effects.add(k),x.add_callback(h)}else h()}};cn(()=>{l=!1,t(i),l||d(null,null)},c)}function En(e,t){return t}function js(e,t,r){for(var n=e.items,a=[],s=t.length,o=0;o<s;o++)br(t[o].e,a,!0);var c=s>0&&a.length===0&&r!==null;if(c){var l=r.parentNode;ds(l),l.append(r),n.clear(),we(e,t[0].prev,t[s-1].next)}hn(a,()=>{for(var i=0;i<s;i++){var f=t[i];c||(n.delete(f.k),we(e,f.prev,f.next)),ke(f.e,!c)}})}function yr(e,t,r,n,a,s=null){var o=e,c={flags:t,items:new Map,first:null},l=(t&Gr)!==0;if(l){var i=e;o=i.appendChild(at())}var f=null,h=!1,d=new Map,u=hr(()=>{var x=r();return tr(x)?x:x==null?[]:rr(x)}),v,g;function w(){Rs(g,v,c,d,o,a,t,n,r),s!==null&&(v.length===0?f?wr(f):f=dt(()=>s(o)):f!==null&&mr(f,()=>{f=null}))}cn(()=>{g??=M,v=p(u);var x=v.length;if(!(h&&x===0)){h=x===0;var m,k,P,_;if(sn()){var b=new Set,T=Y;for(k=0;k<x;k+=1){P=v[k],_=n(P,k);var O=c.items.get(_)??d.get(_);O?(t&(Mt|qt))!==0&&Sn(O,P,k,t):(m=xn(null,c,null,null,P,_,k,a,t,r,!0),d.set(_,m)),b.add(_)}for(const[j,F]of c.items)b.has(j)||T.skipped_effects.add(F.e);T.add_callback(w)}else w();p(u)}})}function Rs(e,t,r,n,a,s,o,c,l){var i=(o&Vn)!==0,f=(o&(Mt|qt))!==0,h=t.length,d=r.items,u=r.first,v=u,g,w=null,x,m=[],k=[],P,_,b,T;if(i)for(T=0;T<h;T+=1)P=t[T],_=c(P,T),b=d.get(_),b!==void 0&&(b.a?.measure(),(x??=new Set).add(b));for(T=0;T<h;T+=1){if(P=t[T],_=c(P,T),b=d.get(_),b===void 0){var O=n.get(_);if(O!==void 0){n.delete(_),d.set(_,O);var j=w?w.next:v;we(r,w,O),we(r,O,j),Dt(O,j,a),w=O}else{var F=v?v.e.nodes_start:a;w=xn(F,r,w,w===null?r.first:w.next,P,_,T,s,o,l)}d.set(_,w),m=[],k=[],v=w.next;continue}if(f&&Sn(b,P,T,o),(b.e.f&me)!==0&&(wr(b.e),i&&(b.a?.unfix(),(x??=new Set).delete(b))),b!==v){if(g!==void 0&&g.has(b)){if(m.length<k.length){var $=k[0],I;w=$.prev;var Q=m[0],_e=m[m.length-1];for(I=0;I<m.length;I+=1)Dt(m[I],$,a);for(I=0;I<k.length;I+=1)g.delete(k[I]);we(r,Q.prev,_e.next),we(r,w,Q),we(r,_e,$),v=$,w=_e,T-=1,m=[],k=[]}else g.delete(b),Dt(b,v,a),we(r,b.prev,b.next),we(r,b,w===null?r.first:w.next),we(r,w,b),w=b;continue}for(m=[],k=[];v!==null&&v.k!==_;)(v.e.f&me)===0&&(g??=new Set).add(v),k.push(v),v=v.next;if(v===null)continue;b=v}m.push(b),w=b,v=b.next}if(v!==null||g!==void 0){for(var re=g===void 0?[]:rr(g);v!==null;)(v.e.f&me)===0&&re.push(v),v=v.next;var q=re.length;if(q>0){var B=(o&Gr)!==0&&h===0?a:null;if(i){for(T=0;T<q;T+=1)re[T].a?.measure();for(T=0;T<q;T+=1)re[T].a?.fix()}js(r,re,B)}}i&&vr(()=>{if(x!==void 0)for(b of x)b.a?.apply()}),e.first=r.first&&r.first.e,e.last=w&&w.e;for(var ae of n.values())ke(ae.e);n.clear()}function Sn(e,t,r,n){(n&Mt)!==0&&vt(e.v,t),(n&qt)!==0?vt(e.i,r):e.i=r}function xn(e,t,r,n,a,s,o,c,l,i,f){var h=(l&Mt)!==0,d=(l&Yn)===0,u=h?d?se(a,!1,!1):ft(a):a,v=(l&qt)===0?o:ft(o),g={i:v,v:u,k:s,a:null,e:null,prev:r,next:n};try{if(e===null){var w=document.createDocumentFragment();w.append(e=at())}return g.e=dt(()=>c(e,u,v,i),es),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?f||(t.first=g):(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function Dt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==null&&s!==n;){var o=Rt(s);a.before(s),s=o}}function we(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ns(e,t,r=!1,n=!1,a=!1){var s=e,o="";Z(()=>{var c=M;if(o!==(o=t()??"")&&(c.nodes_start!==null&&(vn(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),o!=="")){var l=o+"";r?l=`<svg>${l}</svg>`:n&&(l=`<math>${l}</math>`);var i=yn(l);if((r||n)&&(i=Me(i)),pt(Me(i),i.lastChild),r||n)for(;Me(i);)s.before(Me(i));else s.before(i)}})}const qr=[...` 	
\r\f¬†\v\uFEFF`];function Ps(e,t,r){var n=e==null?"":""+e;if(r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var s=a.length,o=0;(o=n.indexOf(a,o))>=0;){var c=o+s;(o===0||qr.includes(n[o-1]))&&(c===n.length||qr.includes(n[c]))?n=(o===0?"":n.substring(0,o))+n.substring(c+1):o=c}}return n===""?null:n}function je(e,t,r,n,a,s){var o=e.__className;if(o!==r||o===void 0){var c=Ps(r,n,s);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}else if(s&&a!==s)for(var l in s){var i=!!s[l];(a==null||i!==!!a[l])&&e.classList.toggle(l,i)}return s}const Is=Symbol("is custom element"),Ls=Symbol("is html");function Us(e,t,r,n){var a=Ds(e);a[t]!==(a[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&Fs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ds(e){return e.__attributes??={[Is]:e.nodeName.includes("-"),[Ls]:e.namespaceURI===Zn}}var jr=new Map;function Fs(e){var t=jr.get(e.nodeName);if(t)return t;jr.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=Wr(n);for(var s in r)r[s].set&&t.push(s);n=nr(n)}return t}function Ws(e,t,r=t){var n=st(),a=new WeakSet;$s(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=Ft(e)?Wt(o):o,r(o),Y!==null&&a.add(Y),n&&o!==(o=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),ne(t)==null&&e.value&&(r(Ft(e)?Wt(e.value):e.value),Y!==null&&a.add(Y)),Nt(()=>{var s=t();e===document.activeElement&&a.has(Y)||Ft(e)&&s===Wt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ft(e){var t=e.type;return t==="number"||t==="range"}function Wt(e){return e===""?null:+e}function Rr(e,t){return e===t||e?.[De]===t}function kn(e={},t,r,n){return gs(()=>{var a,s;return Nt(()=>{a=s,s=[],ne(()=>{e!==r(...s)&&(t(e,...s),a&&Rr(r(...a),e)&&t(null,...a))})}),()=>{vr(()=>{s&&Rr(r(...s),e)&&t(null,...s)})}}),e}function Ve(e=!1){const t=W,r=t.l.u;if(!r)return;let n=()=>Oe(t.s);if(e){let a=0,s={};const o=dr(()=>{let c=!1;const l=t.s;for(const i in l)l[i]!==s[i]&&(s[i]=l[i],c=!0);return c&&a++,a});n=()=>p(o)}r.b.length&&ps(()=>{Nr(t,n),Gt(r.b)}),Kt(()=>{const a=ne(()=>r.m.map(qn));return()=>{for(const s of a)typeof s=="function"&&s()}}),r.a.length&&Kt(()=>{Nr(t,n),Gt(r.a)})}function Nr(e,t){if(e.l.s)for(const r of e.l.s)p(r);t()}function Tn(e,t,r){if(e==null)return t(void 0),Qe;const n=ne(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Ke=[];function $e(e,t=Qe){let r=null;const n=new Set;function a(c){if(Yr(e,c)&&(e=c,r)){const l=!Ke.length;for(const i of n)i[1](),Ke.push(i,e);if(l){for(let i=0;i<Ke.length;i+=2)Ke[i][0](Ke[i+1]);Ke.length=0}}}function s(c){a(c(e))}function o(c,l=Qe){const i=[c,l];return n.add(i),n.size===1&&(r=t(a,s)||Qe),c(e),()=>{n.delete(i),n.size===0&&r&&(r(),r=null)}}return{set:a,update:s,subscribe:o}}function Hs(e){let t;return Tn(e,r=>t=r)(),t}let bt=!1,Jt=Symbol();function te(e,t,r){const n=r[t]??={store:null,source:se(void 0),unsubscribe:Qe};if(n.store!==e&&!(Jt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Qe;else{var a=!0;n.unsubscribe=Tn(e,s=>{a?n.source.v=s:L(n.source,s)}),a=!1}return e&&Jt in r?Hs(e):p(n.source)}function ot(){const e={};function t(){on(()=>{for(var r in e)e[r].unsubscribe();St(e,Jt,{enumerable:!1,value:!0})})}return[e,t]}function Bs(e){var t=bt;try{return bt=!1,[e(),bt]}finally{bt=t}}function Gs(e,t,r,n){var a=!nt||(r&Kn)!==0,s=(r&Jn)!==0,o=n,c=!0,l=()=>(c&&(c=!1,o=n),o),i;{var f=De in e||Nn in e;i=Xe(e,t)?.set??(f&&t in e?m=>e[t]=m:void 0)}var h,d=!1;[h,d]=Bs(()=>e[t]);var u;if(a?u=()=>{var m=e[t];return m===void 0?l():(c=!0,m)}:u=()=>{var m=e[t];return m!==void 0&&(o=void 0),m===void 0?o:m},a&&(r&zn)===0)return u;if(i){var v=e.$$legacy;return function(m,k){return arguments.length>0?((!a||!k||v||d)&&i(k?u():m),m):u()}}var g=!1,w=hr(()=>(g=!1,u()));p(w);var x=M;return function(m,k){if(arguments.length>0){const P=k?p(w):a&&s?ze(m):m;return L(w,P),g=!0,o!==void 0&&(o=P),m}return Ge&&g||(x.f&Be)!==0?w.v:p(w)}}function Vs(e){W===null&&Br(),nt&&W.l!==null?$n(W).m.push(e):Kt(()=>{const t=ne(e);if(typeof t=="function")return t})}function Ys(e){W===null&&Br(),W.l===null&&Wn(),$n(W).a.push(e)}function $n(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ks="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ks);rs();const Pr=$e([]),wt=$e(""),Pt=$e([]),Ht=$e(!1),Bt=$e(!1),yt=$e(!1),He=$e(""),Xt=$e(!1),Qt=$e("");function Ir(e){Pt.update(t=>[...t,e])}function zs(){Pt.set([])}function Js(){He.set("")}function Xs(){if(typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname===""))return{primary:"http://localhost:11434",fallbacks:[]};{const t=window.location.protocol,r=window.location.hostname;return{primary:`${t}//${r}/api/ollama`,fallbacks:[`https://ollama.${r}`,`${t}//${r}:11434`]}}}const Cn=Xs(),Zt=Cn.primary,Et=Cn.fallbacks,er=!0,Qs="https://search.theronlindsay.dev",Lr="You are a helpful assistant with real-time web search capabilities. When you need current information, recent news, or want to search for something on the web, I will provide you with live search results from the internet. Always provide accurate and up-to-date information based on the search results provided. When referencing search results, you can mention that the information comes from recent web search.";async function Ur(e){try{const r=`${Qs}/search?q=${encodeURIComponent(e)}&format=json`;console.log("Performing web search for:",e);const n=await fetch(r,{headers:{Accept:"application/json","User-Agent":"Tron-Chat-App/1.0"}});if(n.ok){const s=(await n.json()).results||[];if(console.log(`‚úÖ Web search successful: Found ${s.length} results for "${e}"`),s.length>0){const o=s.slice(0,5).map((c,l)=>`${l+1}. **${c.title}**
   ${c.content}
   Source: ${c.url}`).join(`

`);return`Search results for "${e}":

${o}`}else return`No search results found for "${e}". Please try a different search term.`}else console.error("Search request failed:",n.status,n.statusText)}catch(r){console.warn("SearXNG search failed, using mock results:",r)}const t=Zs(e);return`Search results for "${e}" (fallback):

${t}

*Note: Using fallback search results due to search service unavailability.*`}function Zs(e){const t=e.toLowerCase();return t.includes("weather")?`1. **Current Weather Information**
   Real-time weather data and forecasts for locations worldwide. Temperature, humidity, wind conditions, and extended forecasts.
   Source: https://weather.com

2. **Weather Underground**
   Hyperlocal weather forecasts, radar maps, and severe weather alerts with community-driven weather reporting.
   Source: https://wunderground.com

3. **National Weather Service**
   Official weather forecasts, warnings, and meteorological data from NOAA.
   Source: https://weather.gov`:t.includes("news")||t.includes("current")||t.includes("latest")?`1. **Breaking News Updates**
   Latest news headlines, current events, and real-time updates from trusted news sources worldwide.
   Source: https://news.com

2. **Technology News Today**
   Current developments in technology, software updates, and industry innovations.
   Source: https://techcrunch.com

3. **Global Current Events**
   Comprehensive coverage of world news, politics, business, and cultural events happening now.
   Source: https://reuters.com`:`1. **Information about "${e}"**
   Comprehensive overview and detailed information about your search topic with current data and insights.
   Source: https://example.com/info

2. **Latest Updates on "${e}"**
   Recent developments, news, and current information related to your search query.
   Source: https://example.com/updates

3. **Complete Guide to "${e}"**
   In-depth analysis, explanations, and practical information about your topic of interest.
   Source: https://example.com/guide`}function Dr(e){const t=["what is","what are","current","latest","recent","today","now","weather","news","price","stock","update","information about","tell me about","search for","find","look up"],r=e.toLowerCase();return t.some(n=>r.includes(n))}class ea{baseUrl;workingUrl=null;constructor(t=Zt){this.baseUrl=t}async findWorkingServer(){if(this.workingUrl)return this.workingUrl;const t=[this.baseUrl,...Et];for(const r of t)try{console.log(`üîç Testing connection to: ${r}`);const n=await fetch(`${r}/api/tags`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",signal:AbortSignal.timeout(5e3)});if(n.ok)return this.workingUrl=r,console.log(`‚úÖ Connected to Ollama server at: ${r}`),r;if(n.status===403){console.warn(`üö´ 403 Forbidden from ${r} - CORS or access policy issue`);continue}else console.warn(`‚ùå HTTP ${n.status} from ${r}: ${n.statusText}`)}catch(n){console.warn(`‚ùå Failed to connect to ${r}:`,n)}throw new Error(`Unable to connect to Ollama server at ${t.join(", ")}. Please ensure the remote Ollama server is running and accessible from your network.`)}async getModels(){try{const t=await this.findWorkingServer(),r=await fetch(`${t}/api/tags`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).models||[]}catch(t){throw console.error("Error fetching models:",t),t instanceof Error?new Error(`Failed to fetch models: ${t.message}`):new Error("Failed to fetch models. Make sure Ollama is running on one of the configured URLs.")}}async chat(t){try{const r=await this.findWorkingServer();let n=[...t.messages];if(t.enableWebSearch&&er&&n.length>0){const s=n[n.length-1];if(s.role==="user"&&Dr(s.content)){const c=await Ur(s.content);n.push({role:"system",content:`Web search results:
${c}

Please use these search results to provide an accurate and up-to-date response.`})}n.some(c=>c.role==="system")||n.unshift({role:"system",content:Lr})}const a=await fetch(`${r}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",body:JSON.stringify({model:t.model,messages:n,stream:!1})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(r){throw console.error("Error in chat request:",r),r instanceof Error?new Error(`Failed to send chat message: ${r.message}`):new Error("Failed to send chat message. Check your connection to the Ollama server.")}}async chatStream(t,r){try{const n=await this.findWorkingServer();let a=[...t.messages];if(t.enableWebSearch&&er&&a.length>0){const i=a[a.length-1];if(i.role==="user"&&Dr(i.content)){const h=await Ur(i.content);a.push({role:"system",content:`Web search results:
${h}

Please use these search results to provide an accurate and up-to-date response.`})}a.some(h=>h.role==="system")||a.unshift({role:"system",content:Lr})}const s=await fetch(`${n}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t.model,messages:a,stream:!0})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const o=s.body?.getReader();if(!o)throw new Error("Response body is null");const c=new TextDecoder;let l="";for(;;){const{done:i,value:f}=await o.read();if(i)break;l+=c.decode(f,{stream:!0});const h=l.split(`
`);l=h.pop()||"";for(const d of h)if(d.trim())try{const u=JSON.parse(d);r(u)}catch{console.warn("Failed to parse chunk:",d)}}}catch(n){throw console.error("Error in streaming chat:",n),new Error("Failed to stream chat. Check your connection to the Ollama server.")}}async testConnection(){try{return await this.findWorkingServer(),!0}catch{return!1}}getWorkingUrl(){return this.workingUrl}resetConnection(){this.workingUrl=null}}const ut=new ea;var ta=U('<button><div class="model-name svelte-10tg4k8"> </div> <div class="model-info svelte-10tg4k8"> </div></button>'),ra=U('<div class="dropdown-menu svelte-10tg4k8"></div>'),na=U('<div class="error-message svelte-10tg4k8"> </div>'),sa=U('<div class="model-selector svelte-10tg4k8"><div class="selector-header svelte-10tg4k8"><label for="model-select" class="svelte-10tg4k8">Select Model:</label> <button class="refresh-btn svelte-10tg4k8" title="Refresh models">üîÑ</button></div> <div class="dropdown-container svelte-10tg4k8"><button><!> <span>‚ñº</span></button> <!></div> <!> <div class="connection-status svelte-10tg4k8"><span></span> <!></div></div>');function aa(e,t){Ie(t,!1);const[r,n]=ot(),a=()=>te(wt,"$selectedModel",r),s=()=>te(Ht,"$isLoadingModels",r),o=()=>te(yt,"$isConnected",r),c=()=>te(Pr,"$models",r),l=()=>te(He,"$errorMessage",r),i=()=>te(Qt,"$currentServerUrl",r);let f=se(!1);Vs(async()=>{await h()});async function h(){Ht.set(!0),He.set(""),ut.resetConnection();try{const C=await ut.testConnection();if(yt.set(C),!C)throw new Error("Cannot connect to any Ollama server. Please check your server configuration.");const A=ut.getWorkingUrl();A&&Qt.set(A);const D=await ut.getModels();Pr.set(D),D.length>0&&!a()&&wt.set(D[0].name)}catch(C){console.error("Failed to load models:",C),He.set(C instanceof Error?C.message:"Failed to load models"),yt.set(!1)}finally{Ht.set(!1)}}function d(C){wt.set(C),L(f,!1)}function u(){L(f,!p(f))}function v(C){C.target.closest(".model-selector")||L(f,!1)}Ve();var g=sa();ie("click",en,v);var w=E(g),x=S(E(w),2),m=S(w,2),k=E(m);let P;var _=E(k);{var b=C=>{var A=G("Loading models...");y(C,A)},T=C=>{var A=pe(),D=le(A);{var ve=z=>{var H=G();Z(()=>X(H,a())),y(z,H)},de=z=>{var H=pe(),ge=le(H);{var It=Ce=>{var lt=G("No models available");y(Ce,lt)},Lt=Ce=>{var lt=G("Select a model");y(Ce,lt)};N(ge,Ce=>{c().length===0?Ce(It):Ce(Lt,!1)},!0)}y(z,H)};N(D,z=>{a()?z(ve):z(de,!1)},!0)}y(C,A)};N(_,C=>{s()?C(b):C(T,!1)})}var O=S(_,2);let j;var F=S(k,2);{var $=C=>{var A=ra();yr(A,5,c,En,(D,ve)=>{var de=ta();let z;var H=E(de),ge=E(H),It=S(H,2),Lt=E(It);Z((Ce,lt)=>{z=je(de,1,"dropdown-item svelte-10tg4k8",null,z,Ce),X(ge,p(ve).name),X(Lt,`${lt??""}GB`)},[()=>({selected:p(ve).name===a()}),()=>(p(ve).size/1024/1024/1024).toFixed(1)]),ie("click",de,()=>d(p(ve).name)),y(D,de)}),y(C,A)};N(F,C=>{p(f)&&c().length>0&&C($)})}var I=S(m,2);{var Q=C=>{var A=na(),D=E(A);Z(()=>X(D,l())),y(C,A)};N(I,C=>{l()&&C(Q)})}var _e=S(I,2),re=E(_e);let q;var B=S(re,2);{var ae=C=>{var A=G();Z(()=>X(A,`Connected to: ${i()??""}`)),y(C,A)},be=C=>{var A=G("Disconnected - No available servers");y(C,A)};N(B,C=>{o()&&i()?C(ae):C(be,!1)})}Z((C,A,D)=>{x.disabled=s(),P=je(k,1,"dropdown-toggle svelte-10tg4k8",null,P,C),k.disabled=s(),j=je(O,1,"dropdown-arrow svelte-10tg4k8",null,j,A),q=je(re,1,"status-indicator svelte-10tg4k8",null,q,D)},[()=>({loading:s(),connected:o(),error:!o()}),()=>({open:p(f)}),()=>({connected:o(),disconnected:!o()})]),ie("click",x,h),ie("click",k,u),y(e,g),Le(),n()}var oa=U('<span class="web-search-badge svelte-1v3oap3">üåê Web</span>'),la=U('<div><div class="message-header svelte-1v3oap3"><span class="role-indicator svelte-1v3oap3"><!></span> <span class="role-name svelte-1v3oap3"> <!></span> <span class="timestamp svelte-1v3oap3"> </span></div> <div class="message-content svelte-1v3oap3"><!></div></div>');function ia(e,t){Ie(t,!1);const r=se();let n=Gs(t,"message",8);function a(_){return _.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function s(_){return _.replace(/```(\w+)?\n([\s\S]*?)\n```/g,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>")}Je(()=>Oe(n()),()=>{L(r,n().content.includes("search")||n().content.includes("found")||n().content.includes("according to")||n().content.includes("based on recent information")||n().content.includes("web search")||n().content.includes("I searched"))}),gr(),Ve();var o=la();let c;var l=E(o),i=E(l),f=E(i);{var h=_=>{var b=G("üë§");y(_,b)},d=_=>{var b=pe(),T=le(b);{var O=F=>{var $=G("ü§ñ");y(F,$)},j=F=>{var $=G("‚öôÔ∏è");y(F,$)};N(T,F=>{Oe(n()),ne(()=>n().role==="assistant")?F(O):F(j,!1)},!0)}y(_,b)};N(f,_=>{Oe(n()),ne(()=>n().role==="user")?_(h):_(d,!1)})}var u=S(i,2),v=E(u),g=S(v);{var w=_=>{var b=oa();y(_,b)};N(g,_=>{Oe(n()),p(r),ne(()=>n().role==="assistant"&&p(r))&&_(w)})}var x=S(u,2),m=E(x),k=S(l,2),P=E(k);Ns(P,()=>(Oe(n()),ne(()=>s(n().content)))),Z((_,b)=>{c=je(o,1,"message svelte-1v3oap3",null,c,_),X(v,`${Oe(n()),ne(()=>n().role==="user"?"You":n().role==="assistant"?"Assistant":"System")??""} `),X(m,b)},[()=>({user:n().role==="user",assistant:n().role==="assistant",system:n().role==="system"}),()=>(Oe(n()),ne(()=>a(n().timestamp)))]),y(e,o),Le()}var ca=U('<button class="clear-button svelte-1l9xvp0" title="Clear all messages">üóëÔ∏è Clear</button>'),ua=U('<button class="scroll-button svelte-1l9xvp0" title="Scroll to bottom">‚Üì New messages</button>'),fa=U(`<div class="empty-state svelte-1l9xvp0"><div class="empty-icon svelte-1l9xvp0">üí¨</div> <h3 class="svelte-1l9xvp0">No messages yet</h3> <p class="svelte-1l9xvp0">Start a conversation with your selected AI model!</p> <div class="example-prompts svelte-1l9xvp0"><p class="svelte-1l9xvp0"><strong class="svelte-1l9xvp0">Try asking:</strong></p> <ul class="svelte-1l9xvp0"><li class="svelte-1l9xvp0">"Explain quantum computing in simple terms"</li> <li class="svelte-1l9xvp0">"Write a Python function to sort a list"</li> <li class="svelte-1l9xvp0">"What's the weather like today?" (Note: AI may not have real-time data)</li> <li class="svelte-1l9xvp0">"Help me brainstorm ideas for a project"</li></ul></div></div>`),va=U('<div class="chat-area svelte-1l9xvp0"><div class="chat-header svelte-1l9xvp0"><h2 class="svelte-1l9xvp0">Chat Messages</h2> <div class="chat-controls svelte-1l9xvp0"><!> <!></div></div> <div class="messages-container svelte-1l9xvp0"><!></div></div>');function da(e,t){Ie(t,!1);const[r,n]=ot(),a=()=>te(Pt,"$messages",r);let s=se(),o=se(!0);Ys(()=>{p(o)&&p(s)&&$t(s,p(s).scrollTop=p(s).scrollHeight)});function c(){if(p(s)){const{scrollTop:_,scrollHeight:b,clientHeight:T}=p(s);L(o,_+T>=b-50)}}function l(){p(s)&&($t(s,p(s).scrollTop=p(s).scrollHeight),L(o,!0))}function i(){confirm("Are you sure you want to clear all messages?")&&zs()}Ve();var f=va(),h=E(f),d=S(E(h),2),u=E(d);{var v=_=>{var b=ca();ie("click",b,i),y(_,b)};N(u,_=>{a().length>0&&_(v)})}var g=S(u,2);{var w=_=>{var b=ua();ie("click",b,l),y(_,b)};N(g,_=>{a().length>0&&!p(o)&&_(w)})}var x=S(h,2),m=E(x);{var k=_=>{var b=fa();y(_,b)},P=_=>{var b=pe(),T=le(b);yr(T,1,a,O=>O.timestamp,(O,j)=>{ia(O,{get message(){return p(j)}})}),y(_,b)};N(m,_=>{a().length===0?_(k):_(P,!1)})}kn(x,_=>L(s,_),()=>p(s)),ie("scroll",x,c),y(e,f),Le(),n()}var ha=U('<span class="loading-spinner svelte-1c3ulwr">‚è≥</span>'),pa=U('<span class="send-icon svelte-1c3ulwr">‚û§</span>'),_a=U('<span class="web-search-indicator svelte-1c3ulwr">üåê Web search enabled</span>'),ga=U('<span class="model-indicator svelte-1c3ulwr"> </span>'),ma=U('<div class="chat-input-container svelte-1c3ulwr"><div class="input-wrapper svelte-1c3ulwr"><textarea rows="1"></textarea> <button class="send-button svelte-1c3ulwr" title="Send message (Enter)"><!></button></div> <div class="input-help svelte-1c3ulwr"><span class="help-text svelte-1c3ulwr">Press <kbd class="svelte-1c3ulwr">Enter</kbd> to send, <kbd class="svelte-1c3ulwr">Shift+Enter</kbd> for new line <!></span> <!></div></div>');function ba(e,t){Ie(t,!1);const[r,n]=ot(),a=()=>te(wt,"$selectedModel",r),s=()=>te(Bt,"$isSendingMessage",r),o=()=>te(Pt,"$messages",r),c=()=>te(Xt,"$webSearchEnabled",r);let l=se(""),i=se();async function f(){if(!p(l).trim()||!a()||s())return;const $={role:"user",content:p(l).trim(),timestamp:new Date};Ir($);const I=p(l);L(l,""),Js(),Bt.set(!0);try{const Q=o().map(q=>({role:q.role,content:q.content})),re={role:"assistant",content:(await ut.chat({model:a(),messages:Q,enableWebSearch:c()})).message.content,timestamp:new Date};Ir(re)}catch(Q){console.error("Failed to send message:",Q),He.set(Q instanceof Error?Q.message:"Failed to send message"),L(l,I)}finally{Bt.set(!1)}}function h($){if($.key==="Enter"){if($.shiftKey)return;$.preventDefault(),f()}}function d(){p(i)&&($t(i,p(i).style.height="auto"),$t(i,p(i).style.height=p(i).scrollHeight+"px"))}Je(()=>p(l),()=>{p(l)!==void 0&&setTimeout(d,0)}),gr(),Ve();var u=ma(),v=E(u),g=E(v);let w;kn(g,$=>L(i,$),()=>p(i));var x=S(g,2),m=E(x);{var k=$=>{var I=ha();y($,I)},P=$=>{var I=pa();y($,I)};N(m,$=>{s()?$(k):$(P,!1)})}var _=S(v,2),b=E(_),T=S(E(b),5);{var O=$=>{var I=_a();y($,I)};N(T,$=>{c()&&$(O)})}var j=S(b,2);{var F=$=>{var I=ga(),Q=E(I);Z(()=>X(Q,`Using: ${a()??""}`)),y($,I)};N(j,$=>{a()&&$(F)})}Z(($,I)=>{Us(g,"placeholder",a()?`Message ${a()}...`:"Select a model to start chatting..."),g.disabled=!a()||s(),w=je(g,1,"message-input svelte-1c3ulwr",null,w,$),x.disabled=I},[()=>({disabled:!a()||s()}),()=>(p(l),a(),s(),ne(()=>!p(l).trim()||!a()||s()))]),Ws(g,()=>p(l),$=>L(l,$)),ie("keydown",g,h),ie("input",g,d),ie("click",x,f),y(e,u),Le(),n()}var wa=U('<span class="status-enabled svelte-1koewwr">‚úÖ Web search enabled - AI can search the internet for current information</span>'),ya=U('<span class="status-disabled svelte-1koewwr">üîí Web search disabled - AI will use only its training data</span>'),Ea=U('<div class="web-search-toggle svelte-1koewwr"><div class="toggle-container svelte-1koewwr"><div class="toggle-info svelte-1koewwr"><span class="toggle-icon svelte-1koewwr">üåê</span> <span class="toggle-text svelte-1koewwr">Web Search</span></div> <button type="button" aria-label="Toggle web search"><span class="toggle-slider svelte-1koewwr"></span></button></div> <div class="toggle-description svelte-1koewwr"><!></div></div>');function Sa(e,t){Ie(t,!1);const[r,n]=ot(),a=()=>te(Xt,"$webSearchEnabled",r);function s(){Xt.update(u=>!u)}Ve();var o=Ea(),c=E(o),l=S(E(c),2);let i;var f=S(c,2),h=E(f);{var d=u=>{var v=pe(),g=le(v);{var w=m=>{var k=wa();y(m,k)},x=m=>{var k=ya();y(m,k)};N(g,m=>{a()?m(w):m(x,!1)})}y(u,v)};N(h,u=>{u(d)})}Z(u=>{i=je(l,1,"toggle-button svelte-1koewwr",null,i,u),l.disabled=!er},[()=>({enabled:a()})]),ie("click",l,s),y(e,o),Le(),n()}var xa=U('<div class="solution-box production-solution svelte-butfqj"><h4 class="svelte-butfqj">üõ†Ô∏è Remote Ollama Server Issue:</h4> <div class="solutions svelte-butfqj"><div class="solution svelte-butfqj"><strong class="svelte-butfqj">Server Status:</strong> <p class="svelte-butfqj">The remote Ollama server at <code class="svelte-butfqj">ollama.theronlindsay.dev</code> needs to be accessible.</p></div> <div class="solution svelte-butfqj"><strong class="svelte-butfqj">Required server configuration:</strong> <code class="svelte-butfqj">export OLLAMA_ORIGINS="*"</code> <code class="svelte-butfqj"># or more restrictive:</code> <code class="svelte-butfqj">export OLLAMA_ORIGINS="https://theronlindsay.dev"</code> <code class="svelte-butfqj">ollama serve</code></div> <div class="solution svelte-butfqj"><strong class="svelte-butfqj">Server setup checklist:</strong> <p class="svelte-butfqj">‚Ä¢ Ollama server is running</p> <p class="svelte-butfqj">‚Ä¢ HTTPS is properly configured</p> <p class="svelte-butfqj">‚Ä¢ CORS headers are set correctly</p> <p class="svelte-butfqj">‚Ä¢ Models are pulled and available</p></div> <div class="solution svelte-butfqj"><strong class="svelte-butfqj">üìã See PRODUCTION-DEPLOYMENT.md for full setup instructions</strong></div></div></div>'),ka=U('<div class="solution-box svelte-butfqj"><h4 class="svelte-butfqj">üîí Local Server 403 Error:</h4> <div class="solutions svelte-butfqj"><div class="solution svelte-butfqj"><strong class="svelte-butfqj">Why this happens:</strong> <p class="svelte-butfqj">Your local Ollama server is configured to reject requests from IPs other than 127.0.0.1</p></div> <div class="solution svelte-butfqj"><strong class="svelte-butfqj">This app now uses the remote server only:</strong> <p class="svelte-butfqj">The configuration has been updated to use <code class="svelte-butfqj">ollama.theronlindsay.dev</code> for all requests.</p></div></div></div>'),Ta=U('<div class="solution-box svelte-butfqj"><h4 class="svelte-butfqj">üîß How to fix this:</h4> <div class="solutions svelte-butfqj"><div class="solution svelte-butfqj"><strong class="svelte-butfqj">1. Configure Ollama for web access:</strong> <code class="svelte-butfqj">export OLLAMA_ORIGINS="*"</code> <code class="svelte-butfqj">ollama serve</code></div> <div class="solution svelte-butfqj"><strong class="svelte-butfqj">2. For production, use specific origins:</strong> <code class="svelte-butfqj">OLLAMA_ORIGINS="https://theronlindsay.dev" ollama serve</code></div> <div class="solution svelte-butfqj"><strong class="svelte-butfqj">3. Check reverse proxy configuration (nginx/apache):</strong> <p class="svelte-butfqj">Ensure your reverse proxy includes CORS headers</p></div></div></div>'),$a=U('<div><div class="error-header svelte-butfqj"><span class="error-icon svelte-butfqj"><!></span> <span class="error-title svelte-butfqj"><!></span> <button class="dismiss-btn svelte-butfqj" title="Dismiss error">√ó</button></div> <div class="error-content svelte-butfqj"><p class="error-text svelte-butfqj"> </p> <!></div></div>');function Ca(e,t){Ie(t,!1);const[r,n]=ot(),a=()=>te(He,"$errorMessage",r),s=se(),o=se(),c=se(),l=se();function i(){He.set("")}Je(()=>a(),()=>{L(s,a().includes("403")||a().includes("CORS")||a().includes("Forbidden"))}),Je(()=>a(),()=>{L(o,a().includes("ollama.theronlindsay.dev"))}),Je(()=>a(),()=>{L(c,a().includes("Unable to connect")||a().includes("Failed to fetch"))}),Je(()=>(a(),p(s)),()=>{L(l,a().includes("localhost")&&p(s))}),gr(),Ve();var f=pe(),h=le(f);{var d=u=>{var v=$a();let g;var w=E(v),x=E(w),m=E(x);{var k=q=>{var B=G("üö´");y(q,B)},P=q=>{var B=pe(),ae=le(B);{var be=A=>{var D=G("üåê");y(A,D)},C=A=>{var D=pe(),ve=le(D);{var de=H=>{var ge=G("üîå");y(H,ge)},z=H=>{var ge=G("‚ö†Ô∏è");y(H,ge)};N(ve,H=>{p(c)?H(de):H(z,!1)},!0)}y(A,D)};N(ae,A=>{p(o)?A(be):A(C,!1)},!0)}y(q,B)};N(m,q=>{p(s)?q(k):q(P,!1)})}var _=S(x,2),b=E(_);{var T=q=>{var B=G("CORS / Access Denied Error");y(q,B)},O=q=>{var B=pe(),ae=le(B);{var be=A=>{var D=G("Production Server Unavailable");y(A,D)},C=A=>{var D=pe(),ve=le(D);{var de=H=>{var ge=G("Server Connection Failed");y(H,ge)},z=H=>{var ge=G("Connection Error");y(H,ge)};N(ve,H=>{p(c)?H(de):H(z,!1)},!0)}y(A,D)};N(ae,A=>{p(o)?A(be):A(C,!1)},!0)}y(q,B)};N(b,q=>{p(s)?q(T):q(O,!1)})}var j=S(_,2),F=S(w,2),$=E(F),I=E($),Q=S($,2);{var _e=q=>{var B=xa();y(q,B)},re=q=>{var B=pe(),ae=le(B);{var be=A=>{var D=ka();y(A,D)},C=A=>{var D=pe(),ve=le(D);{var de=z=>{var H=Ta();y(z,H)};N(ve,z=>{p(s)&&z(de)},!0)}y(A,D)};N(ae,A=>{p(l)?A(be):A(C,!1)},!0)}y(q,B)};N(Q,q=>{p(o)||p(c)?q(_e):q(re,!1)})}Z(q=>{g=je(v,1,"error-banner svelte-butfqj",null,g,q),X(I,a())},[()=>({"cors-error":p(s),"production-error":p(o)})]),ie("click",j,i),y(u,v)};N(h,u=>{a()&&u(d)})}y(e,f),Le(),n()}var Aa=U('<div class="result-error svelte-quevoh"> </div>'),Oa=U('<div class="test-result svelte-quevoh"><div class="result-url svelte-quevoh"> </div> <div class="result-status svelte-quevoh"> </div> <!></div>'),Ma=U('<div class="test-results svelte-quevoh"></div>'),qa=U('<div class="debug-panel svelte-quevoh"><div class="debug-header svelte-quevoh"><h4 class="svelte-quevoh">üîç Connection Debug</h4> <button class="test-btn svelte-quevoh"> </button></div> <div class="environment-info svelte-quevoh"><h5 class="svelte-quevoh">üåç Server Configuration</h5> <div class="env-details svelte-quevoh"><div class="svelte-quevoh"><strong>Hostname:</strong> </div> <div class="svelte-quevoh"><strong>Protocol:</strong> </div> <div class="svelte-quevoh"><strong>Environment:</strong> </div> <div class="svelte-quevoh"><strong>Primary Ollama URL:</strong> </div> <div class="svelte-quevoh"><strong>Fallback URLs:</strong> </div> <div class="svelte-quevoh"><strong>Deployment:</strong> Same-machine Ollama with nginx proxy</div></div></div> <!> <div class="cors-info svelte-quevoh"><strong class="svelte-quevoh">üí° CORS Issue?</strong> <p class="svelte-quevoh">If you see 403 errors, your Ollama server needs CORS configuration:</p> <code class="svelte-quevoh">export OLLAMA_ORIGINS="*"</code> <code class="svelte-quevoh">ollama serve</code></div></div>');function ja(e,t){Ie(t,!1);let r=se([]),n=se(!1);async function a(){L(n,!0),L(r,[]);const T=[Zt,...Et];for(const O of T)try{console.log(`Testing ${O}...`);const j=await fetch(`${O}/api/tags`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",signal:AbortSignal.timeout(5e3)});if(j.ok){const F=await j.json();p(r).push({url:O,status:`‚úÖ Success (${F.models?.length||0} models)`})}else p(r).push({url:O,status:`‚ùå HTTP ${j.status}`,error:j.statusText})}catch(j){p(r).push({url:O,status:"‚ùå Failed",error:j instanceof Error?j.message:"Unknown error"})}L(n,!1),L(r,[...p(r)])}Ve();var s=qa(),o=E(s),c=S(E(o),2),l=E(c),i=S(o,2),f=S(E(i),2),h=E(f),d=S(E(h));d.nodeValue=` ${window.location.hostname??""}`;var u=S(h,2),v=S(E(u));v.nodeValue=` ${window.location.protocol??""}`;var g=S(u,2),w=S(E(g));w.nodeValue=` ${window.location.hostname.includes("localhost")?"Development":"Production"}`;var x=S(g,2),m=S(E(x)),k=S(x,2),P=S(E(k)),_=S(i,2);{var b=T=>{var O=Ma();yr(O,5,()=>p(r),En,(j,F)=>{var $=Oa(),I=E($),Q=E(I),_e=S(I,2),re=E(_e),q=S(_e,2);{var B=ae=>{var be=Aa(),C=E(be);Z(()=>X(C,p(F).error)),y(ae,be)};N(q,ae=>{p(F).error&&ae(B)})}Z(()=>{X(Q,p(F).url),X(re,p(F).status)}),y(j,$)}),y(T,O)};N(_,T=>{p(r).length>0&&T(b)})}Z(T=>{c.disabled=p(n),X(l,p(n)?"Testing...":"Test All Servers"),X(m,` ${Zt??""}`),X(P,` ${T??""}`)},[()=>Et.length>0?Et.join(", "):"None"]),ie("click",c,a),y(e,s),Le()}var Ra=U('<p class="svelte-1gavvpb"><strong>Currently Connected:</strong></p> <code class="svelte-1gavvpb"> </code>',1),Na=U('<main class="svelte-1gavvpb"><div class="app-header svelte-1gavvpb"><h1 class="svelte-1gavvpb">ü§ñ Ollama Chat Interface</h1> <p class="subtitle svelte-1gavvpb"><!></p></div> <div class="chat-container svelte-1gavvpb"><div class="sidebar svelte-1gavvpb"><!> <!> <!> <div class="info-panel svelte-1gavvpb"><h3 class="svelte-1gavvpb">üí° Server Information</h3> <div class="info-content svelte-1gavvpb"><p class="svelte-1gavvpb"><strong>Server Configuration:</strong></p> <code class="svelte-1gavvpb">Primary: ollama.theronlindsay.dev</code><br/> <code class="svelte-1gavvpb">Fallback: localhost:11434</code> <!> <p class="svelte-1gavvpb"><strong>Web Search:</strong></p> <p class="svelte-1gavvpb">Enable the toggle above to use web search capabilities with your queries.</p> <p class="svelte-1gavvpb"><strong>Usage Tips:</strong></p> <ul class="svelte-1gavvpb"><li class="svelte-1gavvpb">The app automatically tries backup servers if the primary fails</li> <li class="svelte-1gavvpb">Enable web search for current information</li> <li class="svelte-1gavvpb">Press Enter to send, Shift+Enter for new lines</li></ul></div></div></div> <div class="main-chat svelte-1gavvpb"><!> <!> <!></div></div></main>');function Pa(e){const[t,r]=ot(),n=()=>te(yt,"$isConnected",t),a=()=>te(Qt,"$currentServerUrl",t);var s=Na(),o=E(s),c=S(E(o),2),l=E(c);{var i=O=>{var j=G();Z(()=>X(j,`Connected to ${a()??""} ‚Ä¢ Web search available`)),y(O,j)},f=O=>{var j=G("Attempting to connect to Ollama servers...");y(O,j)};N(l,O=>{n()&&a()?O(i):O(f,!1)})}var h=S(o,2),d=E(h),u=E(d);aa(u,{});var v=S(u,2);Sa(v,{});var g=S(v,2);ja(g,{});var w=S(g,2),x=S(E(w),2),m=S(E(x),7);{var k=O=>{var j=Ra(),F=S(le(j),2),$=E(F);Z(()=>X($,a())),y(O,j)};N(m,O=>{a()&&O(k)})}var P=S(d,2),_=E(P);Ca(_,{});var b=S(_,2);da(b,{});var T=S(b,2);ba(T,{}),y(e,s),r()}Os(Pa,{target:document.getElementById("app")});
