(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();const Fr=!1;var Xt=Array.isArray,Cn=Array.prototype.indexOf,Qt=Array.from,gt=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,Dr=Object.getOwnPropertyDescriptors,An=Object.prototype,Mn=Array.prototype,Zt=Object.getPrototypeOf,br=Object.isExtensible;const qe=()=>{};function On(e){return e()}function Ht(e){for(var t=0;t<e.length;t++)e[t]()}function Nn(){var e,t,r=new Promise((n,a)=>{e=n,t=a});return{promise:r,resolve:e,reject:t}}const re=2,er=4,xt=8,ft=16,_e=32,Je=64,Wr=128,ee=256,mt=512,j=1024,te=2048,Te=4096,ae=8192,Ie=16384,tr=32768,rr=65536,wr=1<<17,Rn=1<<18,nr=1<<19,sr=1<<20,Bt=1<<21,ar=1<<22,Ce=1<<23,Ae=Symbol("$state"),In=Symbol("legacy props"),or=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Pn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function jr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ln(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Un(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Fn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Dn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Wn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function jn(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Hn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Bn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const kt=1,$t=2,Hr=4,qn=8,Vn=16,Yn=2,Kn=4,zn=8,Jn=1,Xn=2,q=Symbol(),Qn="http://www.w3.org/1999/xhtml";let Zn=!1;function Br(e){return e===this.v}function Gr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function qr(e){return!Gr(e,this.v)}let Xe=!1,es=!1;function ts(){Xe=!0}let U=null;function bt(e){U=e}function Pe(e,t=!1,r){U={p:U,c:null,e:null,s:e,x:null,l:Xe&&!t?{s:null,u:null,$:[]}:null}}function Le(e){var t=U,r=t.e;if(r!==null){t.e=null;for(var n of r)sn(n)}return U=t.p,{}}function Qe(){return!Xe||U!==null&&U.l===null}const rs=new WeakMap;function ns(e){var t=A;if(t===null)return N.f|=Ce,e;if((t.f&tr)===0){if((t.f&Wr)===0)throw!t.parent&&e instanceof Error&&Vr(e),e;t.b.error(e)}else lr(e,t)}function lr(e,t){for(;t!==null;){if((t.f&Wr)!==0)try{t.b.error(e);return}catch(r){e=r}t=t.parent}throw e instanceof Error&&Vr(e),e}function Vr(e){const t=rs.get(e);t&&(gt(e,"message",{value:t.message}),gt(e,"stack",{value:t.stack}))}let wt=[];function ss(){var e=wt;wt=[],Ht(e)}function ir(e){wt.length===0&&queueMicrotask(ss),wt.push(e)}function as(){for(var e=A.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Pn(),e}function cr(e){var t=re|te,r=N!==null&&(N.f&re)!==0?N:null;return A===null||r!==null&&(r.f&ee)!==0?t|=ee:A.f|=nr,{ctx:U,deps:null,effects:null,equals:Br,f:t,fn:e,reactions:null,rv:0,v:q,wv:0,parent:r??A,ac:null}}function os(e,t){let r=A;r===null&&Ln();var n=r.b,a=void 0,s=ot(q),o=null,c=!N;return gs(()=>{try{var l=e()}catch(f){l=Promise.reject(f)}var i=()=>l;a=o?.then(i,i)??Promise.resolve(l),o=a;var u=B,d=n.pending;c&&(n.update_pending_count(1),d||u.increment());const v=(f,h=void 0)=>{o=null,d||u.activate(),h?h!==or&&(s.f|=Ce,lt(s,h)):((s.f&Ce)!==0&&(s.f^=Ce),lt(s,f)),c&&(n.update_pending_count(-1),d||u.decrement()),zr()};if(a.then(v,f=>v(null,f||"unknown")),u)return()=>{queueMicrotask(()=>u.neuter())}}),new Promise(l=>{function i(u){function d(){u===a?l(s):i(a)}u.then(d,d)}i(a)})}function ur(e){const t=cr(e);return t.equals=qr,t}function Yr(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)pe(t[r])}}function ls(e){for(var t=e.parent;t!==null;){if((t.f&re)===0)return t;t=t.parent}return null}function fr(e){var t,r=A;$e(ls(e));try{Yr(e),t=pn(e)}finally{$e(r)}return t}function Kr(e){var t=fr(e);if(e.equals(t)||(e.v=t,e.wv=dn()),!Ue)if(Ke!==null)Ke.set(e,e.v);else{var r=(Se||(e.f&ee)!==0)&&e.deps!==null?Te:j;G(e,r)}}function is(e,t,r){const n=Qe()?cr:ur;if(t.length===0){r(e.map(n));return}var a=B,s=A,o=cs(),c=as();Promise.all(t.map(l=>os(l))).then(l=>{a?.activate(),o();try{r([...e.map(n),...l])}catch(i){(s.f&Ie)===0&&lr(i,s)}a?.deactivate(),zr()}).catch(l=>{c.error(l)})}function cs(){var e=A,t=N,r=U;return function(){$e(e),ue(t),bt(r)}}function zr(){$e(null),ue(null),bt(null)}const dt=new Set;let B=null,Ke=null,yr=new Set,nt=[],vr=null,Gt=!1;class Tt{#i=new Map;#a=new Map;#o=new Set;#t=0;#c=null;#u=!1;#n=[];#l=[];#r=[];#e=[];#s=[];skipped_effects=new Set;#v(t){nt=[];var r=null;if(dt.size>1){r=new Map,Ke=new Map;for(const[s,o]of this.#i)r.set(s,{v:s.v,wv:s.wv}),s.v=o;for(const s of dt)if(s!==this)for(const[o,c]of s.#a)r.has(o)||(r.set(o,{v:o.v,wv:o.wv}),o.v=c)}for(const s of t)this.#d(s);if(this.#n.length===0&&this.#t===0){var n=this.#r,a=this.#e;this.#r=[],this.#e=[],this.#s=[],this.#f(),Er(n),Er(a),this.#c?.resolve()}else{for(const s of this.#r)G(s,j);for(const s of this.#e)G(s,j);for(const s of this.#s)G(s,j)}if(r){for(const[s,{v:o,wv:c}]of r)s.wv<=c&&(s.v=o);Ke=null}for(const s of this.#n)Ye(s);for(const s of this.#l)Ye(s);this.#n=[],this.#l=[]}#d(t){t.f^=j;for(var r=t.first;r!==null;){var n=r.f,a=(n&(_e|Je))!==0,s=a&&(n&j)!==0,o=s||(n&ae)!==0||this.skipped_effects.has(r);if(!o&&r.fn!==null){if(a)r.f^=j;else if((n&er)!==0)this.#e.push(r);else if(vt(r))if((n&ar)!==0){var c=r.b?.pending?this.#l:this.#n;c.push(r)}else(r.f&ft)!==0&&this.#s.push(r),Ye(r);var l=r.first;if(l!==null){r=l;continue}}var i=r.parent;for(r=r.next;r===null&&i!==null;)r=i.next,i=i.parent}}capture(t,r){this.#a.has(t)||this.#a.set(t,r),this.#i.set(t,t.v)}activate(){B=this}deactivate(){B=null;for(const t of yr)if(yr.delete(t),t(),B!==null)break}neuter(){this.#u=!0}flush(){nt.length>0?this.flush_effects():this.#f(),B===this&&(this.#t===0&&dt.delete(this),this.deactivate())}flush_effects(){var t=Ve;Gt=!0;try{var r=0;for(xr(!0);nt.length>0;){if(r++>1e3){var n,a;us()}this.#v(nt),Me.clear()}}finally{Gt=!1,xr(t),vr=null}}#f(){if(!this.#u)for(const t of this.#o)t();this.#o.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const t of this.#r)G(t,te),ke(t);for(const t of this.#e)G(t,te),ke(t);for(const t of this.#s)G(t,te),ke(t);this.#r=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(t){this.#o.add(t)}settled(){return(this.#c??=Nn()).promise}static ensure(t=!0){if(B===null){const r=B=new Tt;dt.add(B),t&&queueMicrotask(()=>{B===r&&r.flush()})}return B}}function us(){try{Wn()}catch(e){lr(e,vr)}}function Er(e){var t=e.length;if(t!==0){for(var r=0;r<t;r++){var n=e[r];if((n.f&(Ie|ae))===0&&vt(n)){var a=Et;if(Ye(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?un(n):n.fn=null),Et>a&&(n.f&sr)!==0)break}}for(;r<t;r+=1)ke(e[r])}}function ke(e){for(var t=vr=e;t.parent!==null;){t=t.parent;var r=t.f;if(Gt&&t===A&&(r&ft)!==0)return;if((r&(Je|_e))!==0){if((r&j)===0)return;t.f^=j}}nt.push(t)}const Me=new Map;function ot(e,t){var r={f:0,v:e,reactions:null,equals:Br,rv:0,wv:0};return r}function we(e,t){const r=ot(e);return bs(r),r}function oe(e,t=!1,r=!0){const n=ot(e);return t||(n.equals=qr),Xe&&r&&U!==null&&U.l!==null&&(U.l.s??=[]).push(n),n}function yt(e,t){return I(e,X(()=>b(e))),t}function I(e,t,r=!1){N!==null&&(!ce||(N.f&wr)!==0)&&Qe()&&(N.f&(re|ft|ar|wr))!==0&&!he?.includes(e)&&Gn();let n=r?Be(t):t;return lt(e,n)}function lt(e,t){if(!e.equals(t)){var r=e.v;Ue?Me.set(e,t):Me.set(e,r),e.v=t,Tt.ensure().capture(e,r),(e.f&re)!==0&&((e.f&te)!==0&&fr(e),G(e,(e.f&ee)===0?j:Te)),e.wv=dn(),Jr(e,te),Qe()&&A!==null&&(A.f&j)!==0&&(A.f&(_e|Je))===0&&(ne===null?ws([e]):ne.push(e))}return t}function Lt(e){I(e,e.v+1)}function Jr(e,t){var r=e.reactions;if(r!==null)for(var n=Qe(),a=r.length,s=0;s<a;s++){var o=r[s],c=o.f;(c&te)===0&&(!n&&o===A||(G(o,t),(c&(j|ee))!==0&&((c&re)!==0?Jr(o,Te):ke(o))))}}function Be(e){if(typeof e!="object"||e===null||Ae in e)return e;const t=Zt(e);if(t!==An&&t!==Mn)return e;var r=new Map,n=Xt(e),a=we(0),s=Oe,o=c=>{if(Oe===s)return c();var l=N,i=Oe;ue(null),$r(s);var u=c();return ue(l),$r(i),u};return n&&r.set("length",we(e.length)),new Proxy(e,{defineProperty(c,l,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&Hn();var u=r.get(l);return u===void 0?u=o(()=>{var d=we(i.value);return r.set(l,d),d}):I(u,i.value,!0),!0},deleteProperty(c,l){var i=r.get(l);if(i===void 0){if(l in c){const u=o(()=>we(q));r.set(l,u),Lt(a)}}else I(i,q),Lt(a);return!0},get(c,l,i){if(l===Ae)return e;var u=r.get(l),d=l in c;if(u===void 0&&(!d||Ge(c,l)?.writable)&&(u=o(()=>{var f=Be(d?c[l]:q),h=we(f);return h}),r.set(l,u)),u!==void 0){var v=b(u);return v===q?void 0:v}return Reflect.get(c,l,i)},getOwnPropertyDescriptor(c,l){var i=Reflect.getOwnPropertyDescriptor(c,l);if(i&&"value"in i){var u=r.get(l);u&&(i.value=b(u))}else if(i===void 0){var d=r.get(l),v=d?.v;if(d!==void 0&&v!==q)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return i},has(c,l){if(l===Ae)return!0;var i=r.get(l),u=i!==void 0&&i.v!==q||Reflect.has(c,l);if(i!==void 0||A!==null&&(!u||Ge(c,l)?.writable)){i===void 0&&(i=o(()=>{var v=u?Be(c[l]):q,f=we(v);return f}),r.set(l,i));var d=b(i);if(d===q)return!1}return u},set(c,l,i,u){var d=r.get(l),v=l in c;if(n&&l==="length")for(var f=i;f<d.v;f+=1){var h=r.get(f+"");h!==void 0?I(h,q):f in c&&(h=o(()=>we(q)),r.set(f+"",h))}if(d===void 0)(!v||Ge(c,l)?.writable)&&(d=o(()=>we(void 0)),I(d,Be(i)),r.set(l,d));else{v=d.v!==q;var _=o(()=>Be(i));I(d,_)}var w=Reflect.getOwnPropertyDescriptor(c,l);if(w?.set&&w.set.call(u,i),!v){if(n&&typeof l=="string"){var S=r.get("length"),g=Number(l);Number.isInteger(g)&&g>=S.v&&I(S,g+1)}Lt(a)}return!0},ownKeys(c){b(a);var l=Reflect.ownKeys(c).filter(d=>{var v=r.get(d);return v===void 0||v.v!==q});for(var[i,u]of r)u.v!==q&&!(i in c)&&l.push(i);return l},setPrototypeOf(){Bn()}})}var Sr,Xr,Qr,Zr,en;function fs(){if(Sr===void 0){Sr=window,Xr=document,Qr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Zr=Ge(t,"firstChild").get,en=Ge(t,"nextSibling").get,br(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),br(r)&&(r.__t=void 0)}}function Ze(e=""){return document.createTextNode(e)}function Ee(e){return Zr.call(e)}function Ct(e){return en.call(e)}function y(e,t){return Ee(e)}function Re(e,t){{var r=Ee(e);return r instanceof Comment&&r.data===""?Ct(r):r}}function C(e,t=1,r=!1){let n=e;for(;t--;)n=Ct(n);return n}function vs(e){e.textContent=""}function tn(){return!1}function rn(e){A===null&&N===null&&Dn(),N!==null&&(N.f&ee)!==0&&A===null&&Fn(),Ue&&Un()}function ds(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function fe(e,t,r,n=!0){var a=A;a!==null&&(a.f&ae)!==0&&(e|=ae);var s={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:e|te,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(r)try{Ye(s),s.f|=tr}catch(l){throw pe(s),l}else t!==null&&ke(s);var o=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&nr)===0;if(!o&&n&&(a!==null&&ds(s,a),N!==null&&(N.f&re)!==0)){var c=N;(c.effects??=[]).push(s)}return s}function nn(e){const t=fe(xt,null,!1);return G(t,j),t.teardown=e,t}function qt(e){rn();var t=A.f,r=!N&&(t&_e)!==0&&(t&tr)===0;if(r){var n=U;(n.e??=[]).push(e)}else return sn(e)}function sn(e){return fe(er|sr,e,!1)}function hs(e){return rn(),fe(xt|sr,e,!0)}function ps(e){Tt.ensure();const t=fe(Je,e,!0);return(r={})=>new Promise(n=>{r.outro?pr(t,()=>{pe(t),n(void 0)}):(pe(t),n(void 0))})}function _s(e){return fe(er,e,!1)}function dr(e,t){var r=U,n={effect:null,ran:!1,deps:e};r.l.$.push(n),n.effect=At(()=>{e(),!n.ran&&(n.ran=!0,X(t))})}function hr(){var e=U;At(()=>{for(var t of e.l.$){t.deps();var r=t.effect;(r.f&j)!==0&&G(r,Te),vt(r)&&Ye(r),t.ran=!1}})}function gs(e){return fe(ar|nr,e,!0)}function At(e,t=0){return fe(xt|t,e,!0)}function V(e,t=[],r=[]){is(t,r,n=>{fe(xt,()=>e(...n.map(b)),!0)})}function an(e,t=0){var r=fe(ft|t,e,!0);return r}function it(e,t=!0){return fe(_e,e,!0,t)}function on(e){var t=e.teardown;if(t!==null){const r=Ue,n=N;kr(!0),ue(null);try{t.call(null)}finally{kr(r),ue(n)}}}function ln(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){r.ac?.abort(or);var n=r.next;(r.f&Je)!==0?r.parent=null:pe(r,t),r=n}}function ms(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&_e)===0&&pe(t),t=r}}function pe(e,t=!0){var r=!1;(t||(e.f&Rn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(cn(e.nodes_start,e.nodes_end),r=!0),ln(e,t&&!r),St(e,0),G(e,Ie);var n=e.transitions;if(n!==null)for(const s of n)s.stop();on(e);var a=e.parent;a!==null&&a.first!==null&&un(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function cn(e,t){for(;e!==null;){var r=e===t?null:Ct(e);e.remove(),e=r}}function un(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function pr(e,t){var r=[];_r(e,r,!0),fn(r,()=>{pe(e),t&&t()})}function fn(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function _r(e,t,r){if((e.f&ae)===0){if(e.f^=ae,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var a=n.next,s=(n.f&rr)!==0||(n.f&_e)!==0;_r(n,t,s?r:!1),n=a}}}function gr(e){vn(e,!0)}function vn(e,t){if((e.f&ae)!==0){e.f^=ae,(e.f&j)===0&&(G(e,te),ke(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&rr)!==0||(r.f&_e)!==0;vn(r,a?t:!1),r=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ve=!1;function xr(e){Ve=e}let Ue=!1;function kr(e){Ue=e}let N=null,ce=!1;function ue(e){N=e}let A=null;function $e(e){A=e}let he=null;function bs(e){N!==null&&(he===null?he=[e]:he.push(e))}let Y=null,Q=0,ne=null;function ws(e){ne=e}let Et=1,ct=0,Oe=ct;function $r(e){Oe=e}let Se=!1;function dn(){return++Et}function vt(e){var t=e.f;if((t&te)!==0)return!0;if((t&Te)!==0){var r=e.deps,n=(t&ee)!==0;if(r!==null){var a,s,o=(t&mt)!==0,c=n&&A!==null&&!Se,l=r.length;if((o||c)&&(A===null||(A.f&Ie)===0)){var i=e,u=i.parent;for(a=0;a<l;a++)s=r[a],(o||!s?.reactions?.includes(i))&&(s.reactions??=[]).push(i);o&&(i.f^=mt),c&&u!==null&&(u.f&ee)===0&&(i.f^=ee)}for(a=0;a<l;a++)if(s=r[a],vt(s)&&Kr(s),s.wv>e.wv)return!0}(!n||A!==null&&!Se)&&G(e,j)}return!1}function hn(e,t,r=!0){var n=e.reactions;if(n!==null&&!he?.includes(e))for(var a=0;a<n.length;a++){var s=n[a];(s.f&re)!==0?hn(s,t,!1):t===s&&(r?G(s,te):(s.f&j)!==0&&G(s,Te),ke(s))}}function pn(e){var t=Y,r=Q,n=ne,a=N,s=Se,o=he,c=U,l=ce,i=Oe,u=e.f;Y=null,Q=0,ne=null,Se=(u&ee)!==0&&(ce||!Ve||N===null),N=(u&(_e|Je))===0?e:null,he=null,bt(e.ctx),ce=!1,Oe=++ct,e.ac!==null&&(e.ac.abort(or),e.ac=null);try{e.f|=Bt;var d=(0,e.fn)(),v=e.deps;if(Y!==null){var f;if(St(e,Q),v!==null&&Q>0)for(v.length=Q+Y.length,f=0;f<Y.length;f++)v[Q+f]=Y[f];else e.deps=v=Y;if(!Se||(u&re)!==0&&e.reactions!==null)for(f=Q;f<v.length;f++)(v[f].reactions??=[]).push(e)}else v!==null&&Q<v.length&&(St(e,Q),v.length=Q);if(Qe()&&ne!==null&&!ce&&v!==null&&(e.f&(re|Te|te))===0)for(f=0;f<ne.length;f++)hn(ne[f],e);return a!==null&&a!==e&&(ct++,ne!==null&&(n===null?n=ne:n.push(...ne))),(e.f&Ce)!==0&&(e.f^=Ce),d}catch(h){return ns(h)}finally{e.f^=Bt,Y=t,Q=r,ne=n,N=a,Se=s,he=o,bt(c),ce=l,Oe=i}}function ys(e,t){let r=t.reactions;if(r!==null){var n=Cn.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(t.f&re)!==0&&(Y===null||!Y.includes(t))&&(G(t,Te),(t.f&(ee|mt))===0&&(t.f^=mt),Yr(t),St(t,0))}function St(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ys(e,r[n])}function Ye(e){var t=e.f;if((t&Ie)===0){G(e,j);var r=A,n=Ve;A=e,Ve=!0;try{(t&ft)!==0?ms(e):ln(e),on(e);var a=pn(e);e.teardown=typeof a=="function"?a:null,e.wv=Et;var s;Fr&&es&&(e.f&te)!==0&&e.deps}finally{Ve=n,A=r}}}function b(e){var t=e.f,r=(t&re)!==0;if(N!==null&&!ce){var n=A!==null&&(A.f&Ie)!==0;if(!n&&!he?.includes(e)){var a=N.deps;if((N.f&Bt)!==0)e.rv<ct&&(e.rv=ct,Y===null&&a!==null&&a[Q]===e?Q++:Y===null?Y=[e]:(!Se||!Y.includes(e))&&Y.push(e));else{(N.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[N]:s.includes(N)||s.push(N)}}}else if(r&&e.deps===null&&e.effects===null){var o=e,c=o.parent;c!==null&&(c.f&ee)===0&&(o.f^=ee)}if(Ue){if(Me.has(e))return Me.get(e);if(r){o=e;var l=o.v;return((o.f&j)!==0||_n(o))&&(l=fr(o)),Me.set(o,l),l}}else if(r){if(o=e,Ke?.has(o))return Ke.get(o);vt(o)&&Kr(o)}if((e.f&Ce)!==0)throw e.v;return e.v}function _n(e){if(e.v===q)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Me.has(t)||(t.f&re)!==0&&_n(t))return!0;return!1}function X(e){var t=ce;try{return ce=!0,e()}finally{ce=t}}const Es=-7169;function G(e,t){e.f=e.f&Es|t}function ye(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ae in e)Vt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ae in r&&Vt(r)}}}function Vt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Vt(e[n],t)}catch{}const r=Zt(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Dr(r);for(let a in n){const s=n[a].get;if(s)try{s.call(e)}catch{}}}}}const Ss=["touchstart","touchmove"];function xs(e){return Ss.includes(e)}let Tr=!1;function ks(){Tr||(Tr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function gn(e){var t=N,r=A;ue(null),$e(null);try{return e()}finally{ue(t),$e(r)}}function $s(e,t,r,n=r){e.addEventListener(t,()=>gn(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),ks()}const Ts=new Set,Cr=new Set;function Cs(e,t,r,n={}){function a(s){if(n.capture||st.call(t,s),!s.cancelBubble)return gn(()=>r?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ir(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function Z(e,t,r,n,a){var s={capture:n,passive:a},o=Cs(e,t,r,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&nn(()=>{t.removeEventListener(e,o,s)})}function st(e){var t=this,r=t.ownerDocument,n=e.type,a=e.composedPath?.()||[],s=a[0]||e.target,o=0,c=e.__root;if(c){var l=a.indexOf(c);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var i=a.indexOf(t);if(i===-1)return;l<=i&&(o=l)}if(s=a[o]||e.target,s!==t){gt(e,"currentTarget",{configurable:!0,get(){return s||r}});var u=N,d=A;ue(null),$e(null);try{for(var v,f=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+n];if(_!=null&&(!s.disabled||e.target===s))if(Xt(_)){var[w,...S]=_;w.apply(s,[e,...S])}else _.call(s,e)}catch(g){v?f.push(g):v=g}if(e.cancelBubble||h===t||h===null)break;s=h}if(v){for(let g of f)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,ue(u),$e(d)}}}function mn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ut(e,t){var r=A;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function P(e,t){var r=(t&Jn)!==0,n=(t&Xn)!==0,a,s=!e.startsWith("<!>");return()=>{a===void 0&&(a=mn(s?e:"<!>"+e),r||(a=Ee(a)));var o=n||Qr?document.importNode(a,!0):a.cloneNode(!0);if(r){var c=Ee(o),l=o.lastChild;ut(c,l)}else ut(o,o);return o}}function K(e=""){{var t=Ze(e+"");return ut(t,t),t}}function ze(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Ze();return e.append(t,r),ut(t,r),e}function E(e,t){e!==null&&e.before(t)}function J(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function As(e,t){return Ms(e,t)}const je=new Map;function Ms(e,{target:t,anchor:r,props:n={},events:a,context:s,intro:o=!0}){fs();var c=new Set,l=d=>{for(var v=0;v<d.length;v++){var f=d[v];if(!c.has(f)){c.add(f);var h=xs(f);t.addEventListener(f,st,{passive:h});var _=je.get(f);_===void 0?(document.addEventListener(f,st,{passive:h}),je.set(f,1)):je.set(f,_+1)}}};l(Qt(Ts)),Cr.add(l);var i=void 0,u=ps(()=>{var d=r??t.appendChild(Ze());return it(()=>{if(s){Pe({});var v=U;v.c=s}a&&(n.$$events=a),i=e(d,n)||{},s&&Le()}),()=>{for(var v of c){t.removeEventListener(v,st);var f=je.get(v);--f===0?(document.removeEventListener(v,st),je.delete(v)):je.set(v,f)}Cr.delete(l),d!==r&&d.parentNode?.removeChild(d)}});return Os.set(i,u),i}let Os=new WeakMap;function L(e,t,r=!1){var n=e,a=null,s=null,o=q,c=r?rr:0,l=!1;const i=(f,h=!0)=>{l=!0,v(h,f)};var u=null;function d(){u!==null&&(u.lastChild.remove(),n.before(u),u=null);var f=o?a:s,h=o?s:a;f&&gr(f),h&&pr(h,()=>{o?s=null:a=null})}const v=(f,h)=>{if(o!==(o=f)){var _=tn(),w=n;if(_&&(u=document.createDocumentFragment(),u.append(w=Ze())),o?a??=h&&it(()=>h(w)):s??=h&&it(()=>h(w)),_){var S=B,g=o?a:s,x=o?s:a;g&&S.skipped_effects.delete(g),x&&S.skipped_effects.add(x),S.add_callback(d)}else d()}};an(()=>{l=!1,t(i),l||v(null,null)},c)}function bn(e,t){return t}function Ns(e,t,r){for(var n=e.items,a=[],s=t.length,o=0;o<s;o++)_r(t[o].e,a,!0);var c=s>0&&a.length===0&&r!==null;if(c){var l=r.parentNode;vs(l),l.append(r),n.clear(),ie(e,t[0].prev,t[s-1].next)}fn(a,()=>{for(var i=0;i<s;i++){var u=t[i];c||(n.delete(u.k),ie(e,u.prev,u.next)),pe(u.e,!c)}})}function mr(e,t,r,n,a,s=null){var o=e,c={flags:t,items:new Map,first:null},l=(t&Hr)!==0;if(l){var i=e;o=i.appendChild(Ze())}var u=null,d=!1,v=new Map,f=ur(()=>{var S=r();return Xt(S)?S:S==null?[]:Qt(S)}),h,_;function w(){Rs(_,h,c,v,o,a,t,n,r),s!==null&&(h.length===0?u?gr(u):u=it(()=>s(o)):u!==null&&pr(u,()=>{u=null}))}an(()=>{_??=A,h=b(f);var S=h.length;if(!(d&&S===0)){d=S===0;var g,x,R,p;if(tn()){var m=new Set,T=B;for(x=0;x<S;x+=1){R=h[x],p=n(R,x);var O=c.items.get(p)??v.get(p);O?(t&(kt|$t))!==0&&wn(O,R,x,t):(g=yn(null,c,null,null,R,p,x,a,t,r,!0),v.set(p,g)),m.add(p)}for(const[F,H]of c.items)m.has(F)||T.skipped_effects.add(H.e);T.add_callback(w)}else w();b(f)}})}function Rs(e,t,r,n,a,s,o,c,l){var i=(o&qn)!==0,u=(o&(kt|$t))!==0,d=t.length,v=r.items,f=r.first,h=f,_,w=null,S,g=[],x=[],R,p,m,T;if(i)for(T=0;T<d;T+=1)R=t[T],p=c(R,T),m=v.get(p),m!==void 0&&(m.a?.measure(),(S??=new Set).add(m));for(T=0;T<d;T+=1){if(R=t[T],p=c(R,T),m=v.get(p),m===void 0){var O=n.get(p);if(O!==void 0){n.delete(p),v.set(p,O);var F=w?w.next:h;ie(r,w,O),ie(r,O,F),Ut(O,F,a),w=O}else{var H=h?h.e.nodes_start:a;w=yn(H,r,w,w===null?r.first:w.next,R,p,T,s,o,l)}v.set(p,w),g=[],x=[],h=w.next;continue}if(u&&wn(m,R,T,o),(m.e.f&ae)!==0&&(gr(m.e),i&&(m.a?.unfix(),(S??=new Set).delete(m))),m!==h){if(_!==void 0&&_.has(m)){if(g.length<x.length){var $=x[0],k;w=$.prev;var D=g[0],Fe=g[g.length-1];for(k=0;k<g.length;k+=1)Ut(g[k],$,a);for(k=0;k<x.length;k+=1)_.delete(x[k]);ie(r,D.prev,Fe.next),ie(r,w,D),ie(r,Fe,$),h=$,w=Fe,T-=1,g=[],x=[]}else _.delete(m),Ut(m,h,a),ie(r,m.prev,m.next),ie(r,m,w===null?r.first:w.next),ie(r,w,m),w=m;continue}for(g=[],x=[];h!==null&&h.k!==p;)(h.e.f&ae)===0&&(_??=new Set).add(h),x.push(h),h=h.next;if(h===null)continue;m=h}g.push(m),w=m,h=m.next}if(h!==null||_!==void 0){for(var le=_===void 0?[]:Qt(_);h!==null;)(h.e.f&ae)===0&&le.push(h),h=h.next;var ve=le.length;if(ve>0){var Ot=(o&Hr)!==0&&d===0?a:null;if(i){for(T=0;T<ve;T+=1)le[T].a?.measure();for(T=0;T<ve;T+=1)le[T].a?.fix()}Ns(r,le,Ot)}}i&&ir(()=>{if(S!==void 0)for(m of S)m.a?.apply()}),e.first=r.first&&r.first.e,e.last=w&&w.e;for(var Nt of n.values())pe(Nt.e);n.clear()}function wn(e,t,r,n){(n&kt)!==0&&lt(e.v,t),(n&$t)!==0?lt(e.i,r):e.i=r}function yn(e,t,r,n,a,s,o,c,l,i,u){var d=(l&kt)!==0,v=(l&Vn)===0,f=d?v?oe(a,!1,!1):ot(a):a,h=(l&$t)===0?o:ot(o),_={i:h,v:f,k:s,a:null,e:null,prev:r,next:n};try{if(e===null){var w=document.createDocumentFragment();w.append(e=Ze())}return _.e=it(()=>c(e,f,h,i),Zn),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?u||(t.first=_):(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function Ut(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,s=e.e.nodes_start;s!==null&&s!==n;){var o=Ct(s);a.before(s),s=o}}function ie(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Is(e,t,r=!1,n=!1,a=!1){var s=e,o="";V(()=>{var c=A;if(o!==(o=t()??"")&&(c.nodes_start!==null&&(cn(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),o!=="")){var l=o+"";r?l=`<svg>${l}</svg>`:n&&(l=`<math>${l}</math>`);var i=mn(l);if((r||n)&&(i=Ee(i)),ut(Ee(i),i.lastChild),r||n)for(;Ee(i);)s.before(Ee(i));else s.before(i)}})}const Ar=[...` 	
\r\f \v\uFEFF`];function Ps(e,t,r){var n=e==null?"":""+e;if(r){for(var a in r)if(r[a])n=n?n+" "+a:a;else if(n.length)for(var s=a.length,o=0;(o=n.indexOf(a,o))>=0;){var c=o+s;(o===0||Ar.includes(n[o-1]))&&(c===n.length||Ar.includes(n[c]))?n=(o===0?"":n.substring(0,o))+n.substring(c+1):o=c}}return n===""?null:n}function xe(e,t,r,n,a,s){var o=e.__className;if(o!==r||o===void 0){var c=Ps(r,n,s);c==null?e.removeAttribute("class"):e.className=c,e.__className=r}else if(s&&a!==s)for(var l in s){var i=!!s[l];(a==null||i!==!!a[l])&&e.classList.toggle(l,i)}return s}const Ls=Symbol("is custom element"),Us=Symbol("is html");function Fs(e,t,r,n){var a=Ds(e);a[t]!==(a[t]=r)&&(r==null?e.removeAttribute(t):typeof r!="string"&&Ws(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ds(e){return e.__attributes??={[Ls]:e.nodeName.includes("-"),[Us]:e.namespaceURI===Qn}}var Mr=new Map;function Ws(e){var t=Mr.get(e.nodeName);if(t)return t;Mr.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=Dr(n);for(var s in r)r[s].set&&t.push(s);n=Zt(n)}return t}function js(e,t,r=t){var n=Qe(),a=new WeakSet;$s(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=Ft(e)?Dt(o):o,r(o),B!==null&&a.add(B),n&&o!==(o=t())){var c=e.selectionStart,l=e.selectionEnd;e.value=o??"",l!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(l,e.value.length))}}),X(t)==null&&e.value&&(r(Ft(e)?Dt(e.value):e.value),B!==null&&a.add(B)),At(()=>{var s=t();e===document.activeElement&&a.has(B)||Ft(e)&&s===Dt(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ft(e){var t=e.type;return t==="number"||t==="range"}function Dt(e){return e===""?null:+e}function Or(e,t){return e===t||e?.[Ae]===t}function En(e={},t,r,n){return _s(()=>{var a,s;return At(()=>{a=s,s=[],X(()=>{e!==r(...s)&&(t(e,...s),a&&Or(r(...a),e)&&t(null,...a))})}),()=>{ir(()=>{s&&Or(r(...s),e)&&t(null,...s)})}}),e}function et(e=!1){const t=U,r=t.l.u;if(!r)return;let n=()=>ye(t.s);if(e){let a=0,s={};const o=cr(()=>{let c=!1;const l=t.s;for(const i in l)l[i]!==s[i]&&(s[i]=l[i],c=!0);return c&&a++,a});n=()=>b(o)}r.b.length&&hs(()=>{Nr(t,n),Ht(r.b)}),qt(()=>{const a=X(()=>r.m.map(On));return()=>{for(const s of a)typeof s=="function"&&s()}}),r.a.length&&qt(()=>{Nr(t,n),Ht(r.a)})}function Nr(e,t){if(e.l.s)for(const r of e.l.s)b(r);t()}function Sn(e,t,r){if(e==null)return t(void 0),qe;const n=X(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const He=[];function ge(e,t=qe){let r=null;const n=new Set;function a(c){if(Gr(e,c)&&(e=c,r)){const l=!He.length;for(const i of n)i[1](),He.push(i,e);if(l){for(let i=0;i<He.length;i+=2)He[i][0](He[i+1]);He.length=0}}}function s(c){a(c(e))}function o(c,l=qe){const i=[c,l];return n.add(i),n.size===1&&(r=t(a,s)||qe),c(e),()=>{n.delete(i),n.size===0&&r&&(r(),r=null)}}return{set:a,update:s,subscribe:o}}function Hs(e){let t;return Sn(e,r=>t=r)(),t}let ht=!1,Yt=Symbol();function z(e,t,r){const n=r[t]??={store:null,source:oe(void 0),unsubscribe:qe};if(n.store!==e&&!(Yt in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=qe;else{var a=!0;n.unsubscribe=Sn(e,s=>{a?n.source.v=s:I(n.source,s)}),a=!1}return e&&Yt in r?Hs(e):b(n.source)}function tt(){const e={};function t(){nn(()=>{for(var r in e)e[r].unsubscribe();gt(e,Yt,{enumerable:!1,value:!0})})}return[e,t]}function Bs(e){var t=ht;try{return ht=!1,[e(),ht]}finally{ht=t}}function Gs(e,t,r,n){var a=!Xe||(r&Yn)!==0,s=(r&zn)!==0,o=n,c=!0,l=()=>(c&&(c=!1,o=n),o),i;{var u=Ae in e||In in e;i=Ge(e,t)?.set??(u&&t in e?g=>e[t]=g:void 0)}var d,v=!1;[d,v]=Bs(()=>e[t]);var f;if(a?f=()=>{var g=e[t];return g===void 0?l():(c=!0,g)}:f=()=>{var g=e[t];return g!==void 0&&(o=void 0),g===void 0?o:g},a&&(r&Kn)===0)return f;if(i){var h=e.$$legacy;return function(g,x){return arguments.length>0?((!a||!x||h||v)&&i(x?f():g),g):f()}}var _=!1,w=ur(()=>(_=!1,f()));b(w);var S=A;return function(g,x){if(arguments.length>0){const R=x?b(w):a&&s?Be(g):g;return I(w,R),_=!0,o!==void 0&&(o=R),g}return Ue&&_||(S.f&Ie)!==0?w.v:b(w)}}function qs(e){U===null&&jr(),Xe&&U.l!==null?xn(U).m.push(e):qt(()=>{const t=X(e);if(typeof t=="function")return t})}function Vs(e){U===null&&jr(),U.l===null&&jn(),xn(U).a.push(e)}function xn(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ys="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ys);ts();const Rr=ge([]),pt=ge(""),Mt=ge([]),Wt=ge(!1),jt=ge(!1),_t=ge(!1),Ne=ge(""),Kt=ge(!1),zt=ge("");function Ir(e){Mt.update(t=>[...t,e])}function Ks(){Mt.set([])}function zs(){Ne.set("")}const kn="https://ollama.theronlindsay.dev",$n=["http://localhost:11434"],Jt=!0,Js="https://search.theronlindsay.dev",Pr="You are a helpful assistant with real-time web search capabilities. When you need current information, recent news, or want to search for something on the web, I will provide you with live search results from the internet. Always provide accurate and up-to-date information based on the search results provided. When referencing search results, you can mention that the information comes from recent web search.";async function Lr(e){try{const r=`${Js}/search?q=${encodeURIComponent(e)}&format=json`;console.log("Performing web search for:",e);const n=await fetch(r,{headers:{Accept:"application/json","User-Agent":"Tron-Chat-App/1.0"}});if(n.ok){const s=(await n.json()).results||[];if(console.log(`✅ Web search successful: Found ${s.length} results for "${e}"`),s.length>0){const o=s.slice(0,5).map((c,l)=>`${l+1}. **${c.title}**
   ${c.content}
   Source: ${c.url}`).join(`

`);return`Search results for "${e}":

${o}`}else return`No search results found for "${e}". Please try a different search term.`}else console.error("Search request failed:",n.status,n.statusText)}catch(r){console.warn("SearXNG search failed, using mock results:",r)}const t=Xs(e);return`Search results for "${e}" (fallback):

${t}

*Note: Using fallback search results due to search service unavailability.*`}function Xs(e){const t=e.toLowerCase();return t.includes("weather")?`1. **Current Weather Information**
   Real-time weather data and forecasts for locations worldwide. Temperature, humidity, wind conditions, and extended forecasts.
   Source: https://weather.com

2. **Weather Underground**
   Hyperlocal weather forecasts, radar maps, and severe weather alerts with community-driven weather reporting.
   Source: https://wunderground.com

3. **National Weather Service**
   Official weather forecasts, warnings, and meteorological data from NOAA.
   Source: https://weather.gov`:t.includes("news")||t.includes("current")||t.includes("latest")?`1. **Breaking News Updates**
   Latest news headlines, current events, and real-time updates from trusted news sources worldwide.
   Source: https://news.com

2. **Technology News Today**
   Current developments in technology, software updates, and industry innovations.
   Source: https://techcrunch.com

3. **Global Current Events**
   Comprehensive coverage of world news, politics, business, and cultural events happening now.
   Source: https://reuters.com`:`1. **Information about "${e}"**
   Comprehensive overview and detailed information about your search topic with current data and insights.
   Source: https://example.com/info

2. **Latest Updates on "${e}"**
   Recent developments, news, and current information related to your search query.
   Source: https://example.com/updates

3. **Complete Guide to "${e}"**
   In-depth analysis, explanations, and practical information about your topic of interest.
   Source: https://example.com/guide`}function Ur(e){const t=["what is","what are","current","latest","recent","today","now","weather","news","price","stock","update","information about","tell me about","search for","find","look up"],r=e.toLowerCase();return t.some(n=>r.includes(n))}class Qs{baseUrl;workingUrl=null;constructor(t=kn){this.baseUrl=t}async findWorkingServer(){if(this.workingUrl)return this.workingUrl;const t=[this.baseUrl,...$n];for(const r of t)try{console.log(`🔍 Testing connection to: ${r}`);const n=await fetch(`${r}/api/tags`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",signal:AbortSignal.timeout(15e3)});if(n.ok)return this.workingUrl=r,console.log(`✅ Connected to Ollama server at: ${r}`),r;if(n.status===403){console.warn(`🚫 403 Forbidden from ${r} - CORS or access policy issue`);continue}else console.warn(`❌ HTTP ${n.status} from ${r}: ${n.statusText}`)}catch(n){console.warn(`❌ Failed to connect to ${r}:`,n)}throw new Error(`Unable to connect to any Ollama server. Tried: ${t.join(", ")}. Check server configuration and CORS settings.`)}async getModels(){try{const t=await this.findWorkingServer(),r=await fetch(`${t}/api/tags`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).models||[]}catch(t){throw console.error("Error fetching models:",t),t instanceof Error?new Error(`Failed to fetch models: ${t.message}`):new Error("Failed to fetch models. Make sure Ollama is running on one of the configured URLs.")}}async chat(t){try{const r=await this.findWorkingServer();let n=[...t.messages];if(t.enableWebSearch&&Jt&&n.length>0){const s=n[n.length-1];if(s.role==="user"&&Ur(s.content)){const c=await Lr(s.content);n.push({role:"system",content:`Web search results:
${c}

Please use these search results to provide an accurate and up-to-date response.`})}n.some(c=>c.role==="system")||n.unshift({role:"system",content:Pr})}const a=await fetch(`${r}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",body:JSON.stringify({model:t.model,messages:n,stream:!1})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(r){throw console.error("Error in chat request:",r),r instanceof Error?new Error(`Failed to send chat message: ${r.message}`):new Error("Failed to send chat message. Check your connection to the Ollama server.")}}async chatStream(t,r){try{const n=await this.findWorkingServer();let a=[...t.messages];if(t.enableWebSearch&&Jt&&a.length>0){const i=a[a.length-1];if(i.role==="user"&&Ur(i.content)){const d=await Lr(i.content);a.push({role:"system",content:`Web search results:
${d}

Please use these search results to provide an accurate and up-to-date response.`})}a.some(d=>d.role==="system")||a.unshift({role:"system",content:Pr})}const s=await fetch(`${n}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:t.model,messages:a,stream:!0})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const o=s.body?.getReader();if(!o)throw new Error("Response body is null");const c=new TextDecoder;let l="";for(;;){const{done:i,value:u}=await o.read();if(i)break;l+=c.decode(u,{stream:!0});const d=l.split(`
`);l=d.pop()||"";for(const v of d)if(v.trim())try{const f=JSON.parse(v);r(f)}catch{console.warn("Failed to parse chunk:",v)}}}catch(n){throw console.error("Error in streaming chat:",n),new Error("Failed to stream chat. Check your connection to the Ollama server.")}}async testConnection(){try{return await this.findWorkingServer(),!0}catch{return!1}}getWorkingUrl(){return this.workingUrl}resetConnection(){this.workingUrl=null}}const at=new Qs;var Zs=P('<button><div class="model-name svelte-10tg4k8"> </div> <div class="model-info svelte-10tg4k8"> </div></button>'),ea=P('<div class="dropdown-menu svelte-10tg4k8"></div>'),ta=P('<div class="error-message svelte-10tg4k8"> </div>'),ra=P('<div class="model-selector svelte-10tg4k8"><div class="selector-header svelte-10tg4k8"><label for="model-select" class="svelte-10tg4k8">Select Model:</label> <button class="refresh-btn svelte-10tg4k8" title="Refresh models">🔄</button></div> <div class="dropdown-container svelte-10tg4k8"><button><!> <span>▼</span></button> <!></div> <!> <div class="connection-status svelte-10tg4k8"><span></span> <!></div></div>');function na(e,t){Pe(t,!1);const[r,n]=tt(),a=()=>z(pt,"$selectedModel",r),s=()=>z(Wt,"$isLoadingModels",r),o=()=>z(_t,"$isConnected",r),c=()=>z(Rr,"$models",r),l=()=>z(Ne,"$errorMessage",r),i=()=>z(zt,"$currentServerUrl",r);let u=oe(!1);qs(async()=>{await d()});async function d(){Wt.set(!0),Ne.set(""),at.resetConnection();try{const M=await at.testConnection();if(_t.set(M),!M)throw new Error("Cannot connect to any Ollama server. Please check your server configuration.");const W=at.getWorkingUrl();W&&zt.set(W);const se=await at.getModels();Rr.set(se),se.length>0&&!a()&&pt.set(se[0].name)}catch(M){console.error("Failed to load models:",M),Ne.set(M instanceof Error?M.message:"Failed to load models"),_t.set(!1)}finally{Wt.set(!1)}}function v(M){pt.set(M),I(u,!1)}function f(){I(u,!b(u))}function h(M){M.target.closest(".model-selector")||I(u,!1)}et();var _=ra();Z("click",Xr,h);var w=y(_),S=C(y(w),2),g=C(w,2),x=y(g);let R;var p=y(x);{var m=M=>{var W=K("Loading models...");E(M,W)},T=M=>{var W=ze(),se=Re(W);{var De=de=>{var me=K();V(()=>J(me,a())),E(de,me)},We=de=>{var me=ze(),Rt=Re(me);{var It=be=>{var rt=K("No models available");E(be,rt)},Pt=be=>{var rt=K("Select a model");E(be,rt)};L(Rt,be=>{c().length===0?be(It):be(Pt,!1)},!0)}E(de,me)};L(se,de=>{a()?de(De):de(We,!1)},!0)}E(M,W)};L(p,M=>{s()?M(m):M(T,!1)})}var O=C(p,2);let F;var H=C(x,2);{var $=M=>{var W=ea();mr(W,5,c,bn,(se,De)=>{var We=Zs();let de;var me=y(We),Rt=y(me),It=C(me,2),Pt=y(It);V((be,rt)=>{de=xe(We,1,"dropdown-item svelte-10tg4k8",null,de,be),J(Rt,b(De).name),J(Pt,`${rt??""}GB`)},[()=>({selected:b(De).name===a()}),()=>(b(De).size/1024/1024/1024).toFixed(1)]),Z("click",We,()=>v(b(De).name)),E(se,We)}),E(M,W)};L(H,M=>{b(u)&&c().length>0&&M($)})}var k=C(g,2);{var D=M=>{var W=ta(),se=y(W);V(()=>J(se,l())),E(M,W)};L(k,M=>{l()&&M(D)})}var Fe=C(k,2),le=y(Fe);let ve;var Ot=C(le,2);{var Nt=M=>{var W=K();V(()=>J(W,`Connected to: ${i()??""}`)),E(M,W)},Tn=M=>{var W=K("Disconnected - No available servers");E(M,W)};L(Ot,M=>{o()&&i()?M(Nt):M(Tn,!1)})}V((M,W,se)=>{S.disabled=s(),R=xe(x,1,"dropdown-toggle svelte-10tg4k8",null,R,M),x.disabled=s(),F=xe(O,1,"dropdown-arrow svelte-10tg4k8",null,F,W),ve=xe(le,1,"status-indicator svelte-10tg4k8",null,ve,se)},[()=>({loading:s(),connected:o(),error:!o()}),()=>({open:b(u)}),()=>({connected:o(),disconnected:!o()})]),Z("click",S,d),Z("click",x,f),E(e,_),Le(),n()}var sa=P('<span class="web-search-badge svelte-1hc1y1d">🌐 Web</span>'),aa=P('<div><div class="message-header svelte-1hc1y1d"><span class="role-indicator svelte-1hc1y1d"><!></span> <span class="role-name svelte-1hc1y1d"> <!></span> <span class="timestamp svelte-1hc1y1d"> </span></div> <div class="message-content svelte-1hc1y1d"><!></div></div>');function oa(e,t){Pe(t,!1);const r=oe();let n=Gs(t,"message",8);function a(p){return p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function s(p){return p.replace(/```(\w+)?\n([\s\S]*?)\n```/g,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>")}dr(()=>ye(n()),()=>{I(r,n().content.includes("search")||n().content.includes("found")||n().content.includes("according to")||n().content.includes("based on recent information")||n().content.includes("web search")||n().content.includes("I searched"))}),hr(),et();var o=aa();let c;var l=y(o),i=y(l),u=y(i);{var d=p=>{var m=K("👤");E(p,m)},v=p=>{var m=ze(),T=Re(m);{var O=H=>{var $=K("🤖");E(H,$)},F=H=>{var $=K("⚙️");E(H,$)};L(T,H=>{ye(n()),X(()=>n().role==="assistant")?H(O):H(F,!1)},!0)}E(p,m)};L(u,p=>{ye(n()),X(()=>n().role==="user")?p(d):p(v,!1)})}var f=C(i,2),h=y(f),_=C(h);{var w=p=>{var m=sa();E(p,m)};L(_,p=>{ye(n()),b(r),X(()=>n().role==="assistant"&&b(r))&&p(w)})}var S=C(f,2),g=y(S),x=C(l,2),R=y(x);Is(R,()=>(ye(n()),X(()=>s(n().content)))),V((p,m)=>{c=xe(o,1,"message svelte-1hc1y1d",null,c,p),J(h,`${ye(n()),X(()=>n().role==="user"?"You":n().role==="assistant"?"Assistant":"System")??""} `),J(g,m)},[()=>({user:n().role==="user",assistant:n().role==="assistant",system:n().role==="system"}),()=>(ye(n()),X(()=>a(n().timestamp)))]),E(e,o),Le()}var la=P('<button class="clear-button svelte-nohcw6" title="Clear all messages">🗑️ Clear</button>'),ia=P('<button class="scroll-button svelte-nohcw6" title="Scroll to bottom">↓ New messages</button>'),ca=P(`<div class="empty-state svelte-nohcw6"><div class="empty-icon svelte-nohcw6">💬</div> <h3 class="svelte-nohcw6">No messages yet</h3> <p class="svelte-nohcw6">Start a conversation with your selected AI model!</p> <div class="example-prompts svelte-nohcw6"><p class="svelte-nohcw6"><strong class="svelte-nohcw6">Try asking:</strong></p> <ul class="svelte-nohcw6"><li class="svelte-nohcw6">"Explain quantum computing in simple terms"</li> <li class="svelte-nohcw6">"Write a Python function to sort a list"</li> <li class="svelte-nohcw6">"What's the weather like today?" (Note: AI may not have real-time data)</li> <li class="svelte-nohcw6">"Help me brainstorm ideas for a project"</li></ul></div></div>`),ua=P('<div class="chat-area svelte-nohcw6"><div class="chat-header svelte-nohcw6"><h2 class="svelte-nohcw6">Chat Messages</h2> <div class="chat-controls svelte-nohcw6"><!> <!></div></div> <div class="messages-container svelte-nohcw6"><!></div></div>');function fa(e,t){Pe(t,!1);const[r,n]=tt(),a=()=>z(Mt,"$messages",r);let s=oe(),o=oe(!0);Vs(()=>{b(o)&&b(s)&&yt(s,b(s).scrollTop=b(s).scrollHeight)});function c(){if(b(s)){const{scrollTop:p,scrollHeight:m,clientHeight:T}=b(s);I(o,p+T>=m-50)}}function l(){b(s)&&(yt(s,b(s).scrollTop=b(s).scrollHeight),I(o,!0))}function i(){confirm("Are you sure you want to clear all messages?")&&Ks()}et();var u=ua(),d=y(u),v=C(y(d),2),f=y(v);{var h=p=>{var m=la();Z("click",m,i),E(p,m)};L(f,p=>{a().length>0&&p(h)})}var _=C(f,2);{var w=p=>{var m=ia();Z("click",m,l),E(p,m)};L(_,p=>{a().length>0&&!b(o)&&p(w)})}var S=C(d,2),g=y(S);{var x=p=>{var m=ca();E(p,m)},R=p=>{var m=ze(),T=Re(m);mr(T,1,a,O=>O.timestamp,(O,F)=>{oa(O,{get message(){return b(F)}})}),E(p,m)};L(g,p=>{a().length===0?p(x):p(R,!1)})}En(S,p=>I(s,p),()=>b(s)),Z("scroll",S,c),E(e,u),Le(),n()}var va=P('<span class="loading-spinner svelte-vrvaba">⏳</span>'),da=P('<span class="send-icon svelte-vrvaba">➤</span>'),ha=P('<span class="web-search-indicator svelte-vrvaba">🌐 Web search enabled</span>'),pa=P('<span class="model-indicator svelte-vrvaba"> </span>'),_a=P('<div class="chat-input-container svelte-vrvaba"><div class="input-wrapper svelte-vrvaba"><textarea rows="1"></textarea> <button class="send-button svelte-vrvaba" title="Send message (Enter)"><!></button></div> <div class="input-help svelte-vrvaba"><span class="help-text svelte-vrvaba">Press <kbd class="svelte-vrvaba">Enter</kbd> to send, <kbd class="svelte-vrvaba">Shift+Enter</kbd> for new line <!></span> <!></div></div>');function ga(e,t){Pe(t,!1);const[r,n]=tt(),a=()=>z(pt,"$selectedModel",r),s=()=>z(jt,"$isSendingMessage",r),o=()=>z(Mt,"$messages",r),c=()=>z(Kt,"$webSearchEnabled",r);let l=oe(""),i=oe();async function u(){if(!b(l).trim()||!a()||s())return;const $={role:"user",content:b(l).trim(),timestamp:new Date};Ir($);const k=b(l);I(l,""),zs(),jt.set(!0);try{const D=o().map(ve=>({role:ve.role,content:ve.content})),le={role:"assistant",content:(await at.chat({model:a(),messages:D,enableWebSearch:c()})).message.content,timestamp:new Date};Ir(le)}catch(D){console.error("Failed to send message:",D),Ne.set(D instanceof Error?D.message:"Failed to send message"),I(l,k)}finally{jt.set(!1)}}function d($){if($.key==="Enter"){if($.shiftKey)return;$.preventDefault(),u()}}function v(){b(i)&&(yt(i,b(i).style.height="auto"),yt(i,b(i).style.height=b(i).scrollHeight+"px"))}dr(()=>b(l),()=>{b(l)!==void 0&&setTimeout(v,0)}),hr(),et();var f=_a(),h=y(f),_=y(h);let w;En(_,$=>I(i,$),()=>b(i));var S=C(_,2),g=y(S);{var x=$=>{var k=va();E($,k)},R=$=>{var k=da();E($,k)};L(g,$=>{s()?$(x):$(R,!1)})}var p=C(h,2),m=y(p),T=C(y(m),5);{var O=$=>{var k=ha();E($,k)};L(T,$=>{c()&&$(O)})}var F=C(m,2);{var H=$=>{var k=pa(),D=y(k);V(()=>J(D,`Using: ${a()??""}`)),E($,k)};L(F,$=>{a()&&$(H)})}V(($,k)=>{Fs(_,"placeholder",a()?`Message ${a()}...`:"Select a model to start chatting..."),_.disabled=!a()||s(),w=xe(_,1,"message-input svelte-vrvaba",null,w,$),S.disabled=k},[()=>({disabled:!a()||s()}),()=>(b(l),a(),s(),X(()=>!b(l).trim()||!a()||s()))]),js(_,()=>b(l),$=>I(l,$)),Z("keydown",_,d),Z("input",_,v),Z("click",S,u),E(e,f),Le(),n()}var ma=P('<span class="status-enabled svelte-1koewwr">✅ Web search enabled - AI can search the internet for current information</span>'),ba=P('<span class="status-disabled svelte-1koewwr">🔒 Web search disabled - AI will use only its training data</span>'),wa=P('<div class="web-search-toggle svelte-1koewwr"><div class="toggle-container svelte-1koewwr"><div class="toggle-info svelte-1koewwr"><span class="toggle-icon svelte-1koewwr">🌐</span> <span class="toggle-text svelte-1koewwr">Web Search</span></div> <button type="button" aria-label="Toggle web search"><span class="toggle-slider svelte-1koewwr"></span></button></div> <div class="toggle-description svelte-1koewwr"><!></div></div>');function ya(e,t){Pe(t,!1);const[r,n]=tt(),a=()=>z(Kt,"$webSearchEnabled",r);function s(){Kt.update(f=>!f)}et();var o=wa(),c=y(o),l=C(y(c),2);let i;var u=C(c,2),d=y(u);{var v=f=>{var h=ze(),_=Re(h);{var w=g=>{var x=ma();E(g,x)},S=g=>{var x=ba();E(g,x)};L(_,g=>{a()?g(w):g(S,!1)})}E(f,h)};L(d,f=>{f(v)})}V(f=>{i=xe(l,1,"toggle-button svelte-1koewwr",null,i,f),l.disabled=!Jt},[()=>({enabled:a()})]),Z("click",l,s),E(e,o),Le(),n()}var Ea=P('<div class="solution-box svelte-16hxs1n"><h4 class="svelte-16hxs1n">🔧 How to fix this:</h4> <div class="solutions svelte-16hxs1n"><div class="solution svelte-16hxs1n"><strong class="svelte-16hxs1n">1. Configure Ollama for web access:</strong> <code class="svelte-16hxs1n">export OLLAMA_ORIGINS="*"</code> <code class="svelte-16hxs1n">ollama serve</code></div> <div class="solution svelte-16hxs1n"><strong class="svelte-16hxs1n">2. Or start Ollama with CORS enabled:</strong> <code class="svelte-16hxs1n">OLLAMA_ORIGINS="http://localhost:5173,http://localhost:3000" ollama serve</code></div> <div class="solution svelte-16hxs1n"><strong class="svelte-16hxs1n">3. For production, use specific origins:</strong> <code class="svelte-16hxs1n">OLLAMA_ORIGINS="https://your-domain.com" ollama serve</code></div> <div class="solution svelte-16hxs1n"><strong class="svelte-16hxs1n">4. Check reverse proxy configuration (nginx/apache):</strong> <p class="svelte-16hxs1n">Ensure your reverse proxy includes CORS headers</p></div></div> <p class="fallback-note svelte-16hxs1n">💡 <strong>Tip:</strong> The app will automatically use your local Ollama server (localhost:11434) as a fallback if available.</p></div>'),Sa=P('<div><div class="error-header svelte-16hxs1n"><span class="error-icon svelte-16hxs1n"><!></span> <span class="error-title svelte-16hxs1n"><!></span> <button class="dismiss-btn svelte-16hxs1n" title="Dismiss error">×</button></div> <div class="error-content svelte-16hxs1n"><p class="error-text svelte-16hxs1n"> </p> <!></div></div>');function xa(e,t){Pe(t,!1);const[r,n]=tt(),a=()=>z(Ne,"$errorMessage",r),s=oe();function o(){Ne.set("")}dr(()=>a(),()=>{I(s,a().includes("403")||a().includes("CORS")||a().includes("Forbidden"))}),hr(),et();var c=ze(),l=Re(c);{var i=u=>{var d=Sa();let v;var f=y(d),h=y(f),_=y(h);{var w=k=>{var D=K("🚫");E(k,D)},S=k=>{var D=K("⚠️");E(k,D)};L(_,k=>{b(s)?k(w):k(S,!1)})}var g=C(h,2),x=y(g);{var R=k=>{var D=K("CORS / Access Denied Error");E(k,D)},p=k=>{var D=K("Connection Error");E(k,D)};L(x,k=>{b(s)?k(R):k(p,!1)})}var m=C(g,2),T=C(f,2),O=y(T),F=y(O),H=C(O,2);{var $=k=>{var D=Ea();E(k,D)};L(H,k=>{b(s)&&k($)})}V(k=>{v=xe(d,1,"error-banner svelte-16hxs1n",null,v,k),J(F,a())},[()=>({"cors-error":b(s)})]),Z("click",m,o),E(u,d)};L(l,u=>{a()&&u(i)})}E(e,c),Le(),n()}var ka=P('<div class="result-error svelte-1v9ov3b"> </div>'),$a=P('<div class="test-result svelte-1v9ov3b"><div class="result-url svelte-1v9ov3b"> </div> <div class="result-status svelte-1v9ov3b"> </div> <!></div>'),Ta=P('<div class="test-results svelte-1v9ov3b"></div>'),Ca=P('<div class="debug-panel svelte-1v9ov3b"><div class="debug-header svelte-1v9ov3b"><h4 class="svelte-1v9ov3b">🔍 Connection Debug</h4> <button class="test-btn svelte-1v9ov3b"> </button></div> <!> <div class="cors-info svelte-1v9ov3b"><strong class="svelte-1v9ov3b">💡 CORS Issue?</strong> <p class="svelte-1v9ov3b">If you see 403 errors, your Ollama server needs CORS configuration:</p> <code class="svelte-1v9ov3b">export OLLAMA_ORIGINS="*"</code> <code class="svelte-1v9ov3b">ollama serve</code></div></div>');function Aa(e){let t=oe([]),r=oe(!1);async function n(){I(r,!0),I(t,[]);const u=[kn,...$n];for(const d of u)try{console.log(`Testing ${d}...`);const v=await fetch(`${d}/api/tags`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",signal:AbortSignal.timeout(5e3)});if(v.ok){const f=await v.json();b(t).push({url:d,status:`✅ Success (${f.models?.length||0} models)`})}else b(t).push({url:d,status:`❌ HTTP ${v.status}`,error:v.statusText})}catch(v){b(t).push({url:d,status:"❌ Failed",error:v instanceof Error?v.message:"Unknown error"})}I(r,!1),I(t,[...b(t)])}var a=Ca(),s=y(a),o=C(y(s),2),c=y(o),l=C(s,2);{var i=u=>{var d=Ta();mr(d,5,()=>b(t),bn,(v,f)=>{var h=$a(),_=y(h),w=y(_),S=C(_,2),g=y(S),x=C(S,2);{var R=p=>{var m=ka(),T=y(m);V(()=>J(T,b(f).error)),E(p,m)};L(x,p=>{b(f).error&&p(R)})}V(()=>{J(w,b(f).url),J(g,b(f).status)}),E(v,h)}),E(u,d)};L(l,u=>{b(t).length>0&&u(i)})}V(()=>{o.disabled=b(r),J(c,b(r)?"Testing...":"Test All Servers")}),Z("click",o,n),E(e,a)}var Ma=P('<p class="svelte-1gavvpb"><strong>Currently Connected:</strong></p> <code class="svelte-1gavvpb"> </code>',1),Oa=P('<main class="svelte-1gavvpb"><div class="app-header svelte-1gavvpb"><h1 class="svelte-1gavvpb">🤖 Ollama Chat Interface</h1> <p class="subtitle svelte-1gavvpb"><!></p></div> <div class="chat-container svelte-1gavvpb"><div class="sidebar svelte-1gavvpb"><!> <!> <!> <div class="info-panel svelte-1gavvpb"><h3 class="svelte-1gavvpb">💡 Server Information</h3> <div class="info-content svelte-1gavvpb"><p class="svelte-1gavvpb"><strong>Server Configuration:</strong></p> <code class="svelte-1gavvpb">Primary: ollama.theronlindsay.dev</code><br/> <code class="svelte-1gavvpb">Fallback: localhost:11434</code> <!> <p class="svelte-1gavvpb"><strong>Web Search:</strong></p> <p class="svelte-1gavvpb">Enable the toggle above to use web search capabilities with your queries.</p> <p class="svelte-1gavvpb"><strong>Usage Tips:</strong></p> <ul class="svelte-1gavvpb"><li class="svelte-1gavvpb">The app automatically tries backup servers if the primary fails</li> <li class="svelte-1gavvpb">Enable web search for current information</li> <li class="svelte-1gavvpb">Press Enter to send, Shift+Enter for new lines</li></ul></div></div></div> <div class="main-chat svelte-1gavvpb"><!> <!> <!></div></div></main>');function Na(e){const[t,r]=tt(),n=()=>z(_t,"$isConnected",t),a=()=>z(zt,"$currentServerUrl",t);var s=Oa(),o=y(s),c=C(y(o),2),l=y(c);{var i=O=>{var F=K();V(()=>J(F,`Connected to ${a()??""} • Web search available`)),E(O,F)},u=O=>{var F=K("Attempting to connect to Ollama servers...");E(O,F)};L(l,O=>{n()&&a()?O(i):O(u,!1)})}var d=C(o,2),v=y(d),f=y(v);na(f,{});var h=C(f,2);ya(h,{});var _=C(h,2);Aa(_);var w=C(_,2),S=C(y(w),2),g=C(y(S),7);{var x=O=>{var F=Ma(),H=C(Re(F),2),$=y(H);V(()=>J($,a())),E(O,F)};L(g,O=>{a()&&O(x)})}var R=C(v,2),p=y(R);xa(p,{});var m=C(p,2);fa(m,{});var T=C(m,2);ga(T,{}),E(e,s),r()}As(Na,{target:document.getElementById("app")});
